"use strict";(self.webpackChunkarchitectui_angular_pro=self.webpackChunkarchitectui_angular_pro||[]).push([[547],{60547:function(t,e,a){a.r(e),a.d(e,{mtamplatebhpModule:function(){return L}});var n=a(12057),s=a(24751),i=a(89713),r=a(2895),l=a(46113),o=a(46833),m=a(72742),d=a(61260),c=a(68956),h=a(73624),u=a(7639),p=a(89606),k=a(31141),b=a(23202),g=a(49356),x=a(39929),S=a(3984),f=a(88259),v=a.n(f),E=a(74788),y=a(91376),C=a(17623),w=a(13707),I=a(10444),M=a(91370);function T(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"tr"),E.\u0275\u0275elementStart(1,"td",19),E.\u0275\u0275elementStart(2,"p"),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"td",23),E.\u0275\u0275text(5),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(6,"td",28),E.\u0275\u0275text(7),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(8,"td",17),E.\u0275\u0275text(9),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(10,"td",17),E.\u0275\u0275text(11),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(t.nama),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.aturan," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.qty," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.satuan," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.keterangan," ")}}function O(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"tr"),E.\u0275\u0275elementStart(1,"td",19),E.\u0275\u0275elementStart(2,"div",32),E.\u0275\u0275text(3,"Primary"),E.\u0275\u0275elementEnd(),E.\u0275\u0275text(4),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"td",33),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).aturannonracik(e.kdtamplated,e.kdtamplate,e.kddokter,e.kdobat,e.aturan,"aturan",e.aturan)}),E.\u0275\u0275text(6),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(7,"td",34),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).aturannonracik(e.kdtamplated,e.kdtamplate,e.kddokter,e.kdobat,e.aturan,"qty",e.qty)}),E.\u0275\u0275text(8),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(9,"td",35),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).aturannonracik(e.kdtamplated,e.kdtamplate,e.kddokter,e.kdobat,e.aturan,"keterangan",e.keterangan)}),E.\u0275\u0275text(10),E.\u0275\u0275elementStart(11,"div",31),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).deletelistobat(e.kdtamplate)}),E.\u0275\u0275text(12,"X"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit;E.\u0275\u0275advance(4),E.\u0275\u0275textInterpolate1(" ",t.obat," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.aturan," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.qty," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.keterangan," ")}}function B(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"ng-select",36),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).nmobat=e})("keyup",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).cariobat(e)}),E.\u0275\u0275elementEnd()}if(2&t){const t=E.\u0275\u0275nextContext(2);E.\u0275\u0275property("items",t.tobat)("ngModel",t.nmobat)}}function j(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"input",37),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).namaracik=e}),E.\u0275\u0275elementEnd()}if(2&t){const t=E.\u0275\u0275nextContext(2);E.\u0275\u0275property("ngModel",t.namaracik)}}function V(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"td",38),E.\u0275\u0275elementStart(1,"select",39),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).metode=e}),E.\u0275\u0275elementStart(2,"option",40),E.\u0275\u0275text(3,"Kapsul"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"option",41),E.\u0275\u0275text(5,"Puyer"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(6,"option",42),E.\u0275\u0275text(7,"Salep"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(8,"option",43),E.\u0275\u0275text(9,"Sirup"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd()}if(2&t){const t=E.\u0275\u0275nextContext(2);E.\u0275\u0275advance(1),E.\u0275\u0275property("ngModel",t.metode)}}function q(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",44),E.\u0275\u0275listener("click",function(){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).tambahobatr()}),E.\u0275\u0275text(1,"Tambah Racik"),E.\u0275\u0275elementEnd()}}function P(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",44),E.\u0275\u0275listener("click",function(){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext(2).tambahobat()}),E.\u0275\u0275text(1,"Tambah"),E.\u0275\u0275elementEnd()}}function D(t,e){1&t&&E.\u0275\u0275element(0,"td",23)}function A(t,e){1&t&&(E.\u0275\u0275elementStart(0,"div",51),E.\u0275\u0275text(1,"Primary"),E.\u0275\u0275elementEnd())}function N(t,e){1&t&&(E.\u0275\u0275elementStart(0,"div",32),E.\u0275\u0275text(1,"Primary"),E.\u0275\u0275elementEnd())}function H(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"b",52),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),2&t){const t=E.\u0275\u0275nextContext().$implicit;E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate(t.obat)}}function _(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"span"),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),2&t){const t=E.\u0275\u0275nextContext().$implicit;E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate(t.obat)}}function $(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"span"),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),2&t){const t=E.\u0275\u0275nextContext().$implicit;E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate(t.satuan)}}function G(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"span"),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),2&t){const t=E.\u0275\u0275nextContext().$implicit;E.\u0275\u0275advance(1),E.\u0275\u0275textInterpolate(t.standart)}}function R(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"tr"),E.\u0275\u0275elementStart(1,"td"),E.\u0275\u0275template(2,A,2,0,"div",47),E.\u0275\u0275template(3,N,2,0,"div",48),E.\u0275\u0275template(4,H,2,1,"b",49),E.\u0275\u0275template(5,_,2,1,"span",50),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(6,"td",17),E.\u0275\u0275text(7),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(8,"td",17),E.\u0275\u0275text(9),E.\u0275\u0275template(10,$,2,1,"span",50),E.\u0275\u0275template(11,G,2,1,"span",50),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(12,"td",17),E.\u0275\u0275text(13),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(14,"td",17),E.\u0275\u0275text(15),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;E.\u0275\u0275advance(2),E.\u0275\u0275property("ngIf",""==t.kdobat),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",""==!t.kdobat),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",""==t.kdobat),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",""==!t.kdobat),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.aturan," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.qty," "),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",""==t.kdobat),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",""==!t.kdobat),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.keterangan," "),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1(" ",t.status," ")}}function z(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"tbody"),E.\u0275\u0275elementStart(1,"tr"),E.\u0275\u0275elementStart(2,"td",45),E.\u0275\u0275elementStart(3,"b",46),E.\u0275\u0275text(4),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275element(5,"td",45),E.\u0275\u0275element(6,"td",45),E.\u0275\u0275element(7,"td",45),E.\u0275\u0275elementStart(8,"td",17),E.\u0275\u0275elementStart(9,"div",44),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).pilihobattam(e.kdtamplated,e.nama)}),E.\u0275\u0275text(10,"P"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(11,"div",31),E.\u0275\u0275listener("click",function(){const e=E.\u0275\u0275restoreView(t).$implicit;return E.\u0275\u0275nextContext(2).deletelistobatx(e.kdtamplated,e.nama)}),E.\u0275\u0275text(12,"X"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(13,R,16,10,"tr",18),E.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit;E.\u0275\u0275advance(4),E.\u0275\u0275textInterpolate2("",t.nama," | ",t.status,""),E.\u0275\u0275advance(9),E.\u0275\u0275property("ngForOf",t.detail)}}function F(t,e){if(1&t){const t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",6),E.\u0275\u0275elementStart(1,"div",7),E.\u0275\u0275elementStart(2,"div",8),E.\u0275\u0275elementStart(3,"div",9),E.\u0275\u0275text(4," Template BHP "),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"div",10),E.\u0275\u0275elementStart(6,"div",11),E.\u0275\u0275elementStart(7,"label",12),E.\u0275\u0275text(8,"Nama Template Obat"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(9,"input",13),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().namatamplatess=e}),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(10,"div",14),E.\u0275\u0275elementStart(11,"table",15),E.\u0275\u0275elementStart(12,"thead"),E.\u0275\u0275elementStart(13,"tr",16),E.\u0275\u0275elementStart(14,"th"),E.\u0275\u0275text(15,"Obat"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(16,"th",17),E.\u0275\u0275text(17,"Aturan Pakai"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(18,"th",17),E.\u0275\u0275text(19,"Qty"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(20,"th",17),E.\u0275\u0275text(21,"Keterangan"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(22,"tbody"),E.\u0275\u0275template(23,T,12,5,"tr",18),E.\u0275\u0275template(24,O,13,4,"tr",18),E.\u0275\u0275elementStart(25,"tr"),E.\u0275\u0275elementStart(26,"td",19),E.\u0275\u0275template(27,B,1,2,"ng-select",20),E.\u0275\u0275template(28,j,1,1,"input",21),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(29,V,10,1,"td",22),E.\u0275\u0275elementStart(30,"td",23),E.\u0275\u0275elementStart(31,"input",24),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().aturan=e})("keyup",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().jmlracik(e)}),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(32,"td",23),E.\u0275\u0275elementStart(33,"input",25),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().qtyk=e}),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(34,"td",17),E.\u0275\u0275elementStart(35,"textarea",26),E.\u0275\u0275listener("ngModelChange",function(e){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().keterangan=e}),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(36,"tr"),E.\u0275\u0275element(37,"td",19),E.\u0275\u0275elementStart(38,"td",23),E.\u0275\u0275template(39,q,2,0,"div",27),E.\u0275\u0275template(40,P,2,0,"div",27),E.\u0275\u0275elementEnd(),E.\u0275\u0275element(41,"td",28),E.\u0275\u0275element(42,"td",17),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(43,"tr",29),E.\u0275\u0275element(44,"td",19),E.\u0275\u0275template(45,D,1,0,"td",30),E.\u0275\u0275element(46,"td",23),E.\u0275\u0275element(47,"td",28),E.\u0275\u0275elementStart(48,"td",17),E.\u0275\u0275elementStart(49,"div",31),E.\u0275\u0275listener("click",function(){return E.\u0275\u0275restoreView(t),E.\u0275\u0275nextContext().tambahobatv()}),E.\u0275\u0275text(50,"Verifikasi"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(51,"div",6),E.\u0275\u0275elementStart(52,"div",7),E.\u0275\u0275elementStart(53,"div",8),E.\u0275\u0275elementStart(54,"div",9),E.\u0275\u0275text(55," Template Obat "),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(56,"div",10),E.\u0275\u0275elementStart(57,"div",14),E.\u0275\u0275elementStart(58,"table",15),E.\u0275\u0275elementStart(59,"thead"),E.\u0275\u0275elementStart(60,"tr",16),E.\u0275\u0275elementStart(61,"th"),E.\u0275\u0275text(62,"OBAT"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(63,"th",17),E.\u0275\u0275text(64,"ATURAN PAKAI"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(65,"th",17),E.\u0275\u0275text(66,"QTY"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(67,"th",17),E.\u0275\u0275text(68,"KETERANGAN"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(69,"th",17),E.\u0275\u0275text(70,"ACT"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(71,z,14,3,"tbody",18),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd()}if(2&t){const t=E.\u0275\u0275nextContext();E.\u0275\u0275advance(9),E.\u0275\u0275property("ngModel",t.namatamplatess),E.\u0275\u0275advance(14),E.\u0275\u0275property("ngForOf",t.tobatr),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngForOf",t.tobattam),E.\u0275\u0275advance(3),E.\u0275\u0275property("ngIf",t.showtab),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",!t.showtab),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",!t.showtab),E.\u0275\u0275advance(2),E.\u0275\u0275property("ngModel",t.aturan),E.\u0275\u0275advance(2),E.\u0275\u0275property("ngModel",t.qtyk),E.\u0275\u0275advance(2),E.\u0275\u0275property("ngModel",t.keterangan),E.\u0275\u0275advance(4),E.\u0275\u0275property("ngIf",!t.showtab),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",t.showtab),E.\u0275\u0275advance(5),E.\u0275\u0275property("ngIf",!t.showtab),E.\u0275\u0275advance(26),E.\u0275\u0275property("ngForOf",t.tobattaml)}}const J=[{path:"",component:(()=>{class t{constructor(t,e,a){this.toastr=t,this.authService=e,this.fb=a,this.heading="Master Tamplate",this.icon="pe-7s-diamond icon-gradient bg-warm-flame",this.currentJustify="start",this.currentJustify2="center",this.currentJustify3="start",this.currentOrientation="horizontal",this.body="This is example. \none\ntwo",this.kdtamplate="",this.kdtamplates="",this.subjekform=this.fb.group({namatamplates:["",s.kI.required],details:["",s.kI.required]}),this.subjekformx=this.fb.group({namatamplatess:["",s.kI.required],detailss:["",s.kI.required]}),this.jenisx="Umum",this.nmobat="",this.aturan="",this.qtyk=0,this.keterangan="",this.metode="",this.showtab=!0,this.namaracik="";const n=JSON.parse(localStorage.getItem("userDatacl"));this.userDetails=n.userData,this.nama=this.userDetails.nama,this.akses=this.userDetails.hakakses,this.kdklinik=this.userDetails.kdklinik,this.kduser=this.userDetails.kduser,this.kdcabang=this.userDetails.kdcabang}ngOnInit(){this.klinik(),this.tmpsubjek(),this.authService.nomorobat(this.kdcabang,this.kduser).subscribe(t=>{this.nomorobat=t,console.log(this.nomorobat)},t=>{console.log(t)}),this.authService.hasiltamplateobat(this.kdcabang,this.kduser,"").subscribe(t=>{this.tobattaml=t},t=>{console.log(t)}),setTimeout(()=>{this.authService.obatr(this.kdcabang,this.kduser,this.nomorobat).subscribe(t=>{this.tobatr=t},t=>{console.log(t)})},200)}klinik(){this.authService.klinikper(this.kdklinik).subscribe(t=>{this.subheading=Array.prototype.map.call(t,t=>t.nama).toString()},t=>{console.log(t)})}tmppuser(){this.authService.diagnosa().subscribe(t=>{this.diagnos=t},t=>{console.log(t)}),this.authService.tindakan().subscribe(t=>{this.tindak=t},t=>{console.log(t)})}cariuserx(t){this.authService.caridiagnosa(t.target.value,"1").subscribe(t=>{this.diagnos=t})}caritindak(t){console.log(t.target.value),this.authService.caritindakan(t.target.value,"1").subscribe(t=>{this.tindak=t})}edit(){}deletesubjek(t,e,a,n){const s=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});s.fire({title:"Hapus Tamplate?",text:"Yakin Akan Menghapus Tamplate",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(n=>{n.value?(this.authService.simpantamplate({kddokter:this.kduser,nama:e,detail:a,status:"1",kdtamplate:t,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"3"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.tmpsubjek(),this.kdtamplate="",this.namatamplates="",this.details=""):this.toastr.error("Simpan  Gagal","Eror")}),s.fire("Berhasil Hapus Tamplate","Tamplate Telah Terhapus Dari Database.","success")):n.dismiss===v().DismissReason.cancel&&s.fire("Batal","Batal ","error")})}deletesubjeks(t,e,a,n){const s=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});s.fire({title:"Hapus Tamplate?",text:"Yakin Akan Menghapus Tamplate",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(n=>{n.value?(this.authService.simpantamplate({kddokter:this.kduser,nama:e,detail:a,status:"1",kdtamplate:t,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"3"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.lihatpf(),this.kdtamplate="",this.namatamplates="",this.details=""):this.toastr.error("Simpan  Gagal","Eror")}),s.fire("Berhasil Hapus Tamplate","Tamplate Telah Terhapus Dari Database.","success")):n.dismiss===v().DismissReason.cancel&&s.fire("Batal","Batal ","error")})}lihatpf(){this.authService.tamplateos(this.kdcabang,this.kduser,"2","").subscribe(t=>{this.tobjek=t},t=>{console.log(t)})}tmpsubjek(){this.authService.tamplateos(this.kdcabang,this.kduser,"1","").subscribe(t=>{this.tsubjek=t},t=>{console.log(t)})}tmpobjek(){this.authService.tamplateos(this.kdcabang,this.kduser,"2","").subscribe(t=>{this.tobjek=t},t=>{console.log(t)})}simpan(){this.authService.simpantamplate({kddokter:this.kduser,nama:this.namatamplates,detail:this.details,status:"1",kdtamplate:this.kdtamplate,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"1"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.tmpsubjek(),this.kdtamplate="",this.namatamplates="",this.details="",this.showedit=!1):this.toastr.error("Simpan  Gagal","Eror")})}simpans(){this.authService.simpantamplate({kddokter:this.kduser,nama:this.namatamplatess,detail:this.detailss,status:"2",kdtamplate:this.kdtamplates,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"1"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.tmpobjek(),this.kdtamplates="",this.namatamplatess="",this.detailss="",this.showeditpf=!1):this.toastr.error("Simpan  Gagal","Eror")})}edituser(){this.authService.simpantamplate({kddokter:this.kduser,nama:this.namatamplates,detail:this.details,status:"1",kdtamplate:this.kdtamplate,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"2"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.tmpsubjek(),this.kdtamplate="",this.namatamplates="",this.details="",this.showedit=!1):this.toastr.error("Simpan  Gagal","Eror")})}editusers(){this.authService.simpantamplate({kddokter:this.kduser,nama:this.namatamplatess,detail:this.detailss,status:"2",kdtamplate:this.kdtamplates,kdcabang:this.kdcabang,kdklinik:this.kdklinik,stssimpan:"2"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.tmpobjek(),this.kdtamplates="",this.namatamplatess="",this.detailss="",this.showeditpf=!1):this.toastr.error("Simpan  Gagal","Eror")})}cariuserxx(t){this.authService.tamplateos(this.kdcabang,this.kduser,"1",t.target.value).subscribe(t=>{this.tsubjek=t},t=>{console.log(t)})}cariuserxxx(t){this.authService.tamplateos(this.kdcabang,this.kduser,"2",t.target.value).subscribe(t=>{this.tobjek=t},t=>{console.log(t)})}pilihsubjek(t,e,a,n){this.kdtamplate=t,this.namatamplates=e,this.details=a,this.showedit=!0}pilihsubjeks(t,e,a,n){this.kdtamplates=t,this.namatamplatess=e,this.detailss=a,this.showeditpf=!0}batals(){this.kdtamplate="",this.namatamplates="",this.details="",this.showedit=!1}batalss(){this.kdtamplates="",this.namatamplatess="",this.detailss="",this.showeditpf=!1}cariobat(t){this.authService.obat(this.kdcabang,"2",t.target.value).subscribe(t=>{this.tobat=t},t=>{console.log(t)})}klikobat(){this.authService.nomorobat(this.kdcabang,this.kduser).subscribe(t=>{this.nomorobat=t,console.log(this.nomorobat)},t=>{console.log(t)}),setTimeout(()=>{this.authService.tamplateobat(this.kdcabang,this.kduser,"","",this.nomorobat).subscribe(t=>{this.tobattam=t},t=>{console.log(t)}),this.authService.hasiltamplateobat(this.kdcabang,this.kduser,"").subscribe(t=>{this.tobattaml=t},t=>{console.log(t)})},200),this.authService.obatr(this.kdcabang,this.kduser,this.nomorobat).subscribe(t=>{this.tobatr=t},t=>{console.log(t)})}pilihobattam(t,e){this.ran="1",this.namatamplatess=e,this.nomorobat=t,this.authService.tamplateobat(this.kdcabang,this.kduser,"","",t).subscribe(t=>{this.tobattam=t},t=>{console.log(t)})}tambahobat(){let t={kdtamplate:this.nomorobat,kddokter:this.kduser,obat:this.nmobat,aturan:this.aturan,nama:this.namatamplatess,qty:this.qtyk,kdcabang:this.kdcabang,kdklinik:this.kdklinik,status:this.jenisx,keterangan:this.keterangan,stssimpan:"1"};console.log(t),this.authService.simpantamplateobat(t).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.authService.tamplateobat(this.kdcabang,this.kduser,"","",this.nomorobat).subscribe(t=>{this.tobattam=t},t=>{console.log(t)}),this.nmobat="",this.aturan="",this.qtyk=0,this.keterangan=""):this.toastr.error("Simpan  Gagal","Eror")})}tambahobatr(){let t={kdtamplate:this.nomorobat,kddokter:this.kduser,obat:this.namaracik,aturan:this.aturan,nama:this.namatamplatess,qty:this.qtyk,kdcabang:this.kdcabang,kdklinik:this.kdklinik,status:this.jenisx,satuan:this.metode,keterangan:this.keterangan,stssimpan:"1"};console.log(t),this.authService.simpantamplateobatr(t).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.authService.obatr(this.kdcabang,this.kduser,this.nomorobat).subscribe(t=>{this.tobatr=t},t=>{console.log(t)}),this.showpilioracik=!0,this.showtab=!0,this.nmobat="",this.aturan="",this.qtyk=0,this.keterangan="",this.namaracik=""):this.toastr.error("Simpan  Gagal","Eror")})}tambahobatv(){"1"===this.ran?(this.nmobat="",this.aturan="",this.qtyk=0,this.keterangan="",this.namatamplatess="",this.nomorobat="",this.ran="2",this.toastr.success("Berhasil","Sukses",{timeOut:2e3}),setTimeout(()=>{this.klikobat()},250)):this.authService.simpantamplateobat({kdtamplate:this.nomorobat,kddokter:this.kduser,obat:this.nmobat,aturan:this.aturan,nama:this.namatamplatess,qty:this.qtyk,kdcabang:this.kdcabang,kdklinik:this.kdklinik,status:this.jenisx,keterangan:this.keterangan,stssimpan:"4"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),this.nmobat="",this.aturan="",this.qtyk=0,this.keterangan="",this.namatamplatess="",this.nomorobat="",setTimeout(()=>{this.klikobat()},250)):this.toastr.error("Simpan  Gagal","Eror")})}deletelistobat(t){const e=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"Hapus Obat?",text:"Yakin Akan Menghapus Obat",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(a=>{if(a.value){let a={kdtamplate:this.nomorobat,kdtamplatex:t,kddokter:this.kduser,obat:this.nmobat,aturan:this.aturan,nama:this.namatamplatess,qty:this.qtyk,kdcabang:this.kdcabang,kdklinik:this.kdklinik,status:this.jenisx,keterangan:this.keterangan,stssimpan:"3"};console.log(a),this.authService.simpantamplateobat(a).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),setTimeout(()=>{this.authService.tamplateobat(this.kdcabang,this.kduser,"","",this.nomorobat).subscribe(t=>{this.tobattam=t},t=>{console.log(t)})},250)):this.toastr.error("Simpan  Gagal","Eror")}),e.fire("Berhasil Hapus Obat","User Telah Terhapus Dari Database.","success")}else a.dismiss===v().DismissReason.cancel&&e.fire("Cancelled","Your imaginary file is safe :)","error")})}deletelistobatx(t,e){const a=v().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:"Hapus Tamplate?",text:"Yakin Akan Semua Tamplate "+e,icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(e=>{e.value?(this.authService.simpantamplateobat({kdtamplate:t,kdtamplatex:t,kddokter:this.kduser,obat:this.nmobat,aturan:this.aturan,nama:this.namatamplatess,qty:this.qtyk,kdcabang:this.kdcabang,kdklinik:this.kdklinik,status:this.jenisx,keterangan:this.keterangan,stssimpan:"5"}).subscribe(t=>{t?(this.toastr.success(""+t,"Sukses",{timeOut:2e3}),setTimeout(()=>{this.authService.hasiltamplateobat(this.kdcabang,this.kduser,"").subscribe(t=>{this.tobattaml=t},t=>{console.log(t)})},250)):this.toastr.error("Simpan  Gagal","Eror")}),a.fire("Berhasil Hapus Obat","User Telah Terhapus Dari Database.","success")):e.dismiss===v().DismissReason.cancel&&a.fire("Cancelled","Your imaginary file is safe :)","error")})}pindah(t){console.log(t),"Umum"===t?this.showtab=!0:"Racik"===t&&this.authService.obatr(this.kdcabang,this.kduser,this.nomorobat).subscribe(t=>{t.length?(this.tobatr=t,this.showtab=!0):this.showtab=!1},t=>{console.log(t)})}jmlracik(t){"Racik"==this.jenisx&&(console.log(this.nmobat,t.target.value),this.authService.obatbyid(this.kdcabang,this.nmobat).subscribe(t=>{this.kapasitas=Array.prototype.map.call(t,t=>t.zakaktif).toString(),this.satuanstnd=Array.prototype.map.call(t,t=>t.standartd).toString()},t=>{console.log(t)}),setTimeout(()=>{var e,a,n;a=(e=Math.round(this.kapasitas/t.target.value)*this.satuanstnd)/this.kapasitas,console.log(a.toFixed(2)),n=a.toFixed(1),this.qtyk=n,console.log(e/this.kapasitas)},200))}aturannonracik(t,e,a,n,s,i,r){v().fire({title:"Masukan Aturan Terbaru",input:"text",inputValue:r,customClass:{validationMessage:"my-validation-message"},showLoaderOnConfirm:!0,preConfirm:s=>{s?this.authService.editaturantam({aturan:s,kdtamplate:e,kdtamplated:t,kddokter:a,kdobat:n,field:i,kdcabang:this.kdcabang,stssimpan:"1"}).subscribe(e=>{e?(this.toastr.success(""+e,"Sukses",{timeOut:2e3}),setTimeout(()=>{this.pilihobattam(t,this.namatamplatess)},200)):this.toastr.error("Simpan  Gagal","Eror")}):v().showValidationMessage('<i class="fa fa-info-circle"></i> Aturan Belum disi')}})}}return t.\u0275fac=function(e){return new(e||t)(E.\u0275\u0275directiveInject(y._W),E.\u0275\u0275directiveInject(C.O),E.\u0275\u0275directiveInject(s.qu))},t.\u0275cmp=E.\u0275\u0275defineComponent({type:t,selectors:[["app-mtamplatebhp"]],decls:8,vars:1,consts:[["ngbNav","",1,"nav-tabs","tabs-animated","tabs-animated-shadow"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"row"],[1,"col-md-12"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],[1,"position-relative","mb-3"],["for","exampleEmail",1,"form-label"],["placeholder","Nama Tamplate","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"font-size","12px"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[2,"border-bottom","1px solid black"],[1,"text-center"],[4,"ngFor","ngForOf"],["width","40%"],["bindLabel","obat","bindValue","kdobat","placeholder","Obat",3,"items","ngModel","ngModelChange","keyup",4,"ngIf"],["placeholder","Nama Racik","type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["width","20%",4,"ngIf"],["width","20%",1,"text-center"],["placeholder","Aturan","type","text",1,"form-control",3,"ngModel","ngModelChange","keyup"],["placeholder","Qty","type","number",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Keterangan","autosize","",1,"form-control",3,"ngModel","ngModelChange"],["class","badge bg-pill bg-warning",3,"click",4,"ngIf"],["width","10%",1,"text-center"],["height","100px"],["class","text-center","width","20%",4,"ngIf"],[1,"badge","bg-pill","bg-danger",3,"click"],[1,"mb-2","me-2","badge","badge-dot","bg-primary"],["width","20%",1,"text-center",3,"click"],["width","10%",1,"text-center",3,"click"],[1,"text-center",3,"click"],["bindLabel","obat","bindValue","kdobat","placeholder","Obat",3,"items","ngModel","ngModelChange","keyup"],["placeholder","Nama Racik","type","text",1,"form-control",3,"ngModel","ngModelChange"],["width","20%"],["id","exampleSelect",1,"form-select",3,"ngModel","ngModelChange"],["value","Kapsul"],["value","Puyer"],["value","Salep"],["value","Sirup"],[1,"badge","bg-pill","bg-warning",3,"click"],[2,"font-size","12px","color","black"],[2,"font-size","12px"],["class","mb-2 me-2 badge badge-dot bg-danger",4,"ngIf"],["class","mb-2 me-2 badge badge-dot bg-primary",4,"ngIf"],["style","color: black;",4,"ngIf"],[4,"ngIf"],[1,"mb-2","me-2","badge","badge-dot","bg-danger"],[2,"color","black"]],template:function(t,e){if(1&t&&(E.\u0275\u0275elementStart(0,"ul",0,1),E.\u0275\u0275elementStart(2,"li",2),E.\u0275\u0275elementStart(3,"a",3),E.\u0275\u0275elementStart(4,"span"),E.\u0275\u0275text(5,"BHP"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(6,F,72,13,"ng-template",4),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementEnd(),E.\u0275\u0275element(7,"div",5)),2&t){const t=E.\u0275\u0275reference(1);E.\u0275\u0275advance(7),E.\u0275\u0275property("ngbNavOutlet",t)}},directives:[w.Pz,w.nv,w.Vx,w.uN,w.tO,s.Fj,s.JJ,s.On,n.sg,n.O5,s.wV,I.w,M.w9,s.EJ,s.YN,s.Kr],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.example-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin:0 5px}"]}),t})(),data:{title:"mtamplatebhp"}}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=E.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=E.\u0275\u0275defineInjector({imports:[[S.Bz.forChild(J)],S.Bz]}),t})();var Y=a(59618),U=a(47336);const X={suppressScrollX:!0};let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=E.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=E.\u0275\u0275defineInjector({providers:[{provide:Y.op,useValue:X}],imports:[[n.ez,M.A0,U.ZQ,K,I.C,s.u5,s.UX,i.p9,i.p9,r.ot,l.c,o.lN,m.Fk,d.LD,c.KP,h.rP,u.QW,p.T5,k.vV,b.Hi,g.Ps,x.p,w.IJ,Y.Xd,s.u5,s.UX]]}),t})()}}]);