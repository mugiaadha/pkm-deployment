"use strict";(self.webpackChunkarchitectui_angular_pro=self.webpackChunkarchitectui_angular_pro||[]).push([[8072],{58072:function(e,t,n){n.r(t),n.d(t,{laporanskriningilpModule:function(){return fe}});var i=n(12057),r=n(45777),a=n(66274),l=n(42115),o=n(59618),s=n(13707),d=n(98092),c=n(39929),m=n(24751),u=n(8852),p=n(3984),h=n(64762),g=n(49976),S=n(74788),f=n(58497);let v="https://besatusehat.clenicapp.com/api/",E=(()=>{class e{constructor(e){this.http=e,this.userData=JSON.parse(localStorage.getItem("userDatacl")).userData,this.headers=new f.WM({"kd-cabang":this.userData.kdcabang})}getPatientByClusterGroup(e){return this.http.post(v+"screeningDashboard/getPatientByClusterGroup",e,{headers:this.headers}).toPromise()}getPatientStatus(e){return this.http.post(v+"screeningDashboard/getPatientStatus",e,{headers:this.headers}).toPromise()}getPatientByCluster(e){return this.http.post(v+"screeningDashboard/getPatientByCluster",e,{headers:this.headers}).toPromise()}getPatientByScreening(e){return this.http.post(v+"screeningDashboard/getPatientByScreening",e,{headers:this.headers}).toPromise()}getPatientByVillage(e){return this.http.post(v+"screeningDashboard/getPatientByVillage",e,{headers:this.headers}).toPromise()}province(){return this.http.post(v+"master/province",{},{headers:this.headers}).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(S.\u0275\u0275inject(f.eN))},e.\u0275prov=S.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=n(17623),b=n(19021);function k(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"label",6),S.\u0275\u0275elementStart(1,"b"),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=S.\u0275\u0275nextContext();S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate(e.title)}}function x(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"span"),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=S.\u0275\u0275nextContext().$implicit;S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1("",e.village_id," :")}}function M(e,t){if(1&e){const e=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"option",9),S.\u0275\u0275listener("click",function(){const t=S.\u0275\u0275restoreView(e).$implicit;return S.\u0275\u0275nextContext(2).pilihSelect(t)}),S.\u0275\u0275template(1,x,2,1,"span",10),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=S.\u0275\u0275nextContext(2);S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",n.isShowCode),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e.village_name,"")}}function O(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"select",7),S.\u0275\u0275template(1,M,3,2,"option",8),S.\u0275\u0275elementEnd()),2&e){const e=S.\u0275\u0275nextContext();S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",e.selectList)}}let I=(()=>{class e{constructor(e){this.api=e,this.selectedItem=new S.EventEmitter,this.searchSelectText="Semua Lokasi",this.title="",this.isShowCode=!1,this.isDisabled=!1,this.selectList=[],this.searchSelectBy=1}ngOnInit(){}cariSelect(){const e=JSON.parse(localStorage.getItem("listOfSubdistrict"));this.selectList=this.searchVillageByName(e,this.searchSelectText)}searchVillageByName(e,t){return e.filter(e=>e.village_name.toLowerCase().includes(t.toLowerCase()))}pilihSelect(e){this.selectList=[],this.selectedItem.emit(e),this.searchSelectText=e.village_name}}return e.\u0275fac=function(t){return new(t||e)(S.\u0275\u0275directiveInject(b.m))},e.\u0275cmp=S.\u0275\u0275defineComponent({type:e,selectors:[["app-master-select"]],inputs:{id:"id",searchSelectText:"searchSelectText",title:"title",isShowCode:"isShowCode",isDisabled:"isDisabled",selectList:"selectList"},outputs:{selectedItem:"selectedItem"},decls:6,vars:5,consts:[[1,"row"],[1,"col-12"],["for","cari_select",4,"ngIf"],[1,"input-group"],["id","cari_select","type","text",1,"form-control",3,"ngModel","disabled","placeholder","ngModelChange","keyup.enter"],["multiple","","class","form-control","id","exampleFormControlSelect2","width","100%",4,"ngIf"],["for","cari_select"],["multiple","","id","exampleFormControlSelect2","width","100%",1,"form-control"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(S.\u0275\u0275elementStart(0,"div",0),S.\u0275\u0275elementStart(1,"div",1),S.\u0275\u0275template(2,k,3,1,"label",2),S.\u0275\u0275elementStart(3,"div",3),S.\u0275\u0275elementStart(4,"input",4),S.\u0275\u0275listener("ngModelChange",function(e){return t.searchSelectText=e})("ngModelChange",function(){return t.cariSelect()})("keyup.enter",function(){return t.cariSelect()}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(5,O,2,1,"select",5),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e&&(S.\u0275\u0275advance(2),S.\u0275\u0275property("ngIf",t.title),S.\u0275\u0275advance(2),S.\u0275\u0275propertyInterpolate("disabled",t.isDisabled),S.\u0275\u0275propertyInterpolate("placeholder",t.searchSelectText),S.\u0275\u0275property("ngModel",t.searchSelectText),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",t.selectList.length>0))},directives:[i.O5,m.Fj,m.JJ,m.On,i.sg,m.YN,m.Kr],styles:[""]}),e})();function w(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function K(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function C(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function B(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function P(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function _(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function A(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"div",43),S.\u0275\u0275elementStart(1,"div",44),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"div",30),S.\u0275\u0275elementStart(4,"div",45),S.\u0275\u0275elementStart(5,"div",46),S.\u0275\u0275element(6,"div",47),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"div",48),S.\u0275\u0275elementStart(8,"span",49),S.\u0275\u0275text(9,"Jumlah Skrining"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(10,"span"),S.\u0275\u0275text(11),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index,i=S.\u0275\u0275nextContext();S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",e.cluster_name," "),S.\u0275\u0275advance(4),S.\u0275\u0275styleMap("width: "+e.cluster_percentage+"%;"),S.\u0275\u0275classMap(i.listOfColors.color2[n%i.listOfColors.color2.length]),S.\u0275\u0275advance(5),S.\u0275\u0275textInterpolate(e.cluster_total_patient_count)}}function D(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function T(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function F(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function U(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function L(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function j(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"option",27),S.\u0275\u0275text(1),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275property("value",e),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate1(" ",e," ")}}function Y(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"div",43),S.\u0275\u0275elementStart(1,"div",44),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"div",30),S.\u0275\u0275elementStart(4,"div",45),S.\u0275\u0275elementStart(5,"div",46),S.\u0275\u0275element(6,"div",50),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"div",48),S.\u0275\u0275elementStart(8,"span",49),S.\u0275\u0275text(9,"Jumlah Skrining"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(10,"span"),S.\u0275\u0275text(11),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index,i=S.\u0275\u0275nextContext();S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",e.screening_name," "),S.\u0275\u0275advance(4),S.\u0275\u0275styleMap("width: "+e.percentage+"%;"),S.\u0275\u0275classMap(i.listOfColors.color1[n%i.listOfColors.color1.length]),S.\u0275\u0275property("aria-valuenow",e.percentage),S.\u0275\u0275advance(5),S.\u0275\u0275textInterpolate(e.patient_count)}}function N(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"div",43),S.\u0275\u0275elementStart(1,"div",44),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"div",30),S.\u0275\u0275elementStart(4,"div",45),S.\u0275\u0275elementStart(5,"div",46),S.\u0275\u0275element(6,"div",58),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"div",48),S.\u0275\u0275elementStart(8,"span",49),S.\u0275\u0275text(9,"Jumlah Skrining"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(10,"span"),S.\u0275\u0275text(11),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index,i=S.\u0275\u0275nextContext(4);S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",e.name," "),S.\u0275\u0275advance(4),S.\u0275\u0275styleMap("width: "+e.percentage+"%;"),S.\u0275\u0275classMap(i.listOfColors.color1[n%i.listOfColors.color1.length]),S.\u0275\u0275advance(5),S.\u0275\u0275textInterpolate(e.patient_count)}}function G(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"div",20),S.\u0275\u0275elementStart(1,"div",57),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"div",13),S.\u0275\u0275template(4,N,12,6,"div",35),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",e.cluster_name," "),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngForOf",e.screenings)}}function $(e,t){if(1&e&&(S.\u0275\u0275elementStart(0,"div",20),S.\u0275\u0275elementStart(1,"div",12),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"div",13),S.\u0275\u0275template(4,G,5,2,"div",56),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",e.group_name," "),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngForOf",e.clusters)}}function J(e,t){if(1&e){const e=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"div",51),S.\u0275\u0275elementStart(1,"h4",52),S.\u0275\u0275text(2),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"button",53),S.\u0275\u0275listener("click",function(){return S.\u0275\u0275restoreView(e).$implicit.dismiss("Cross click")}),S.\u0275\u0275element(4,"i",54),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(5,"div",55),S.\u0275\u0275elementStart(6,"div",9),S.\u0275\u0275elementStart(7,"div",30),S.\u0275\u0275template(8,$,5,2,"div",56),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd()}if(2&e){const e=S.\u0275\u0275nextContext();let t;S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate(null!==(t=e.titleModal)&&void 0!==t?t:""),S.\u0275\u0275advance(6),S.\u0275\u0275property("ngForOf",e.listOfAllSkrining)}}const V=function(e){return{name:"Total Pasien",data:e}},R=function(e){return[e]},z=function(){return{enabled:!1}},H=function(e){return{height:250,type:"line",zoom:e}},W=function(){return{curve:"straight",width:2}},X=function(){return{text:"",align:"left"}},q=function(){return["#f3f3f3","transparent"]},Q=function(e){return{colors:e,opacity:.5}},Z=function(e){return{row:e}},ee=function(e){return{categories:e}},te=function(){return{height:"250",type:"pie"}},ne=function(){return["#E7A422","#29A259","#FF5959"]},ie=function(e){return{name:"Bar",data:e}},re=function(){return{height:"390",type:"bar"}},ae=function(){return["transparent"]},le=function(e){return{show:!0,width:2,colors:e}},oe=function(){return{horizontal:!1,endingShape:"rounded",columnWidth:"55%"}},se=function(e){return{bar:e}},de=function(){return{text:""}},ce=function(e){return{title:e}},me=function(){return{opacity:1}},ue=function(){return["#3BB5AA"]},pe=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.api=e,this.apiService=t,this.masterService=n,this.modalService=i,this.faSearch=g.wn1,this.userData=JSON.parse(localStorage.getItem("userDatacl")).userData,this.branchId=this.userData.kdcabang,this.jumlahPasienTerdaftar=0,this.jumlahPasienTerskrining=0,this.jumlahPasienBelumSkrining=0,this.grapikTahunanTotalSkrining=[0,0,0,0,0,0,0,0,0,0,0,0],this.grapikBerdasarkanDaerah=[100,96,6,22,11,51,17,38,68,66,19,42,62,37,73],this.listOfClasters=["Klaster 2","Klaster 3","Klaster 4"],this.listOfClasterLabels=["Klaster 2","Klaster 3","Klaster 4"],this.listOfSubClastersId=["Ibu Hamil, Bersalin, Nifas","Balita dan Anak Persekolahan"],this.listOfYears=[],this.listOfMonths=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],this.listOfSubDistricts=[],this.listOfSubDistrictsId=[],this.listOfColors={color1:["bg-pb-green-custom","bg-pb-brown-custom","bg-pb-bluesky-custom","bg-pb-yellow-custom"],color2:["bg-pb-blue-custom","bg-pb-orange-custom"]},this.currentYear=(new Date).getFullYear().toString(),this.SEMUALOKASI="Semua Lokasi",this.SEMUABULAN="Semua Bulan",this.SEMUAKLASTER="Semua Klaster",this.SEMUASKRINING="Semua Skrining",this.SEMUATAHUN="Semua Tahun",this.filterYearTotalSkrining=this.currentYear,this.filterSubDistrictKlaster=this.SEMUALOKASI,this.filterMonthKlaster=this.SEMUABULAN,this.filterYearKlaster=this.currentYear,this.filterSubDistrictKategoriSkrining=this.SEMUALOKASI,this.filterClasterKategoriSkrining=this.SEMUAKLASTER,this.filterMonthKategoriSkrining=this.SEMUABULAN,this.filterYearKategoriSkrining=this.currentYear,this.filterClasterKategoriSkriningDaerah=this.SEMUAKLASTER,this.filterMonthKategoriSkriningDaerah=this.SEMUABULAN,this.filterYearKategoriSkriningDaerah=this.currentYear,this.filterSubDistrictBySkrining=this.SEMUALOKASI,this.filterSubClasterBySkrining=this.SEMUASKRINING,this.filterMonthBySkrining=this.SEMUABULAN,this.filterYearBySkrining=this.currentYear,this.listOfPercentageClaster=[0,0,0],this.listOfPatientByScreening=[0,0,0,0,0,0,0,0,0,0,0,0]}ngOnInit(){this.getTotalPasien(),this.getTotalPasienSkrining(),this.getPatientByClusterGroup(),this.getTotalPasienByCategorySkrining(),this.getPatientByVillage(),this.getAllSubClaster(),this.getTotalPatientByScreening()}openModal(e){this.modalService.open(e,{size:"xl",ariaLabelledBy:"modal"}).result.then(e=>{console.log("test")})}getTotalPasien(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{const t={branchId:this.branchId},n=yield this.api.getPatientStatus(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw new Error("Data tidak tersedia");const i=n.data[0].data_screenings,r=i.total_branch;if(!r)throw new Error("Data total_branch tidak ditemukan");this.updatePatientCounts(r),this.listOfYears=this.extractYears(i)}catch(t){console.error("Error saat mengambil total pasien:",t)}})}getTotalPasienSkrining(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!this.filterYearTotalSkrining)throw new Error("Tahun filter tidak tersedia");const t={branchId:this.branchId,year:this.filterYearTotalSkrining},n=yield this.api.getPatientStatus(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw new Error("Data tidak tersedia");const i=n.data[0].data_screenings[this.filterYearTotalSkrining];if(!i)throw new Error(`Data untuk tahun ${this.filterYearTotalSkrining} tidak ditemukan`);this.grapikTahunanTotalSkrining=this.extractScreenedValues(i)}catch(t){console.error("Error saat mengambil total pasien skrining:",t)}})}getPatientByClusterGroup(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!this.filterYearKategoriSkrining)throw new Error("Tahun filter tidak tersedia");const t={branchId:this.branchId,year:this.filterYearKlaster};this.filterMonthKlaster!=this.SEMUABULAN&&(t.month=String(this.listOfMonths.indexOf(this.filterMonthKlaster)+1).padStart(2,"0")),this.filterSubDistrictKlaster!=this.SEMUALOKASI&&(t.villageId=this.listOfSubDistrictsId[this.listOfSubDistricts.indexOf(this.filterSubDistrictKlaster)]);const n=yield this.api.getPatientByClusterGroup(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw new Error("Data tidak tersedia");this.listOfPercentageClaster=n.data.map(e=>e.percentage),this.listOfClasters=n.data.map(e=>e.group.split(" -")[0]||"Unknown"),this.listOfClasterLabels=n.data.map(e=>`${e.group.split(" -")[0]||"Unknown"} (${e.total_patients} Pasien)`)}catch(t){console.error("Error saat mengambil total pasien skrining:",t)}})}getTotalPasienByCategorySkrining(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!this.filterYearKategoriSkrining)throw new Error("Tahun filter tidak tersedia");const t={branchId:this.branchId,year:this.filterYearKategoriSkrining};this.filterClasterKategoriSkrining!==this.SEMUAKLASTER&&(t.clusterGroup=this.filterClasterKategoriSkrining),this.filterMonthKategoriSkrining!==this.SEMUABULAN&&(t.month=String(this.listOfMonths.indexOf(this.filterMonthKategoriSkrining)+1).padStart(2,"0")),this.filterSubDistrictKategoriSkrining!=this.SEMUALOKASI&&(t.villageId=this.listOfSubDistrictsId[this.listOfSubDistricts.indexOf(this.filterSubDistrictKategoriSkrining)]);const n=yield this.api.getPatientByCluster(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw new Error("Data tidak tersedia");this.listOfCategoryScreening=n.data[0].clusters}catch(t){console.error("Error saat mengambil total pasien skrining:",t)}})}getAllSubClaster(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{const t={branchId:this.branchId},n=yield this.api.getPatientByCluster(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw new Error("Data tidak tersedia");this.listOfSubClastersId=n.data.map(e=>e.clusters).flat().map(e=>e.cluster_id),this.listOfSubClasterName=n.data.map(e=>e.clusters).flat().map(e=>e.cluster_name),this.listOfAllSkrining=n.data}catch(t){console.error("Error saat mengambil total pasien skrining:",t)}})}getPatientByVillage(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{const t={branchId:this.branchId,year:this.filterYearKategoriSkriningDaerah};this.filterMonthKategoriSkriningDaerah!==this.SEMUABULAN&&(t.month=String(this.listOfMonths.indexOf(this.filterMonthKategoriSkriningDaerah)+1).padStart(2,"0")),this.filterClasterKategoriSkriningDaerah!==this.SEMUAKLASTER&&(t.clusterGroup=this.filterClasterKategoriSkriningDaerah);const n=yield this.api.getPatientByVillage(t);if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.length))throw this.listOfSubDistrictsId=[],this.listOfSubDistricts=[],this.grapikBerdasarkanDaerah=[],new Error("Data tidak tersedia");this.listOfSubDistrictsId=n.data.map(e=>e.village_id),this.listOfSubDistricts=n.data.map(e=>e.village_name),localStorage.setItem("listOfSubdistrict",JSON.stringify(n.data)),this.grapikBerdasarkanDaerah=n.data.map(e=>e.total_patients)}catch(t){console.error("Error saat mengambil total pasien skrining:",t)}})}getTotalPatientByScreening(){var e,t,n;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!this.filterYearBySkrining)throw new Error("Tahun filter tidak tersedia");const i={branchId:this.branchId,year:this.filterYearBySkrining};this.filterMonthBySkrining!==this.SEMUABULAN&&(i.month=String(this.listOfMonths.indexOf(this.filterMonthBySkrining)+1).padStart(2,"0")),this.filterSubClasterBySkrining!==this.SEMUASKRINING&&(i.clusterId=null!==(t=this.listOfSubClastersId[null===(e=this.listOfSubClasterName)||void 0===e?void 0:e.indexOf(this.filterSubClasterBySkrining)])&&void 0!==t?t:1),this.filterSubDistrictBySkrining!==this.SEMUALOKASI&&(i.villageId=this.listOfSubDistrictsId[this.listOfSubDistricts.indexOf(this.filterSubDistrictBySkrining)]);const r=yield this.api.getPatientByScreening(i);if(!(null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.length))throw new Error("Data tidak tersedia");this.listOfPatientByScreening=r.data}catch(i){console.error("Error saat mengambil total pasien skrining:",i)}})}updatePatientCounts(e){var t,n,i;this.jumlahPasienTerdaftar=null!==(t=e.registered)&&void 0!==t?t:0,this.jumlahPasienTerskrining=null!==(n=e.screened)&&void 0!==n?n:0,this.jumlahPasienBelumSkrining=null!==(i=e.unscreened)&&void 0!==i?i:0}extractYears(e){return Object.keys(e).filter(e=>"total_branch"!==e)}extractScreenedValues(e){let t=Object.entries(e).reduce((e,[t,n])=>("total"!==t&&(e[t]=n),e),[]);return t=Object.values(t).map(e=>{var t;return null!==(t=e.screened)&&void 0!==t?t:0}),t}mappingProvinsi(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{const t=yield this.masterService.getProvince({});if(!(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.length))throw new Error("Data provinsi tidak ditemukan");this.mappedProvince=(yield Promise.all(t.data.map(e=>(0,h.mG)(this,void 0,void 0,function*(){try{let t=yield this.apiService.propinsi(e.name).toPromise();return t=(null==t?void 0:t[0])||null,t?{prov_name:e.name,prov_satusehat:e.code,prov_id:t.prov_id}:null}catch(t){return console.warn(`Gagal memproses provinsi: ${e.name}`,t),null}})))).filter(Boolean)}catch(t){console.error("Terjadi kesalahan saat mapping provinsi:",t)}})}mappingKota(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!(null===(e=this.mappedProvince)||void 0===e?void 0:e.length))throw new Error("Mapped province tidak tersedia");this.mappedKota=yield Promise.all(this.mappedProvince.map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;try{const n=yield this.masterService.getCity({province_codes:e.prov_satusehat});return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.length)?{prov_id:e.prov_id,prov_name:e.prov_name,city:n.data}:null}catch(n){return console.warn(`Gagal mengambil data kabupaten untuk ${e.prov_name}`,n),null}}))),this.mappedKota=this.mappedKota.filter(Boolean).flatMap(e=>e.city.map(t=>({code:t.code,parent_code:t.parent_code,bps_code:t.bps_code,name:t.name.replace(/^Kota |^Kab\. /,""),prov_id:e.prov_id}))),this.mappedKota=yield Promise.all(this.mappedKota.filter(e=>["Aceh Besar","Aceh Barat"].includes(e.name)).map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;const n=yield this.apiService.kabupaten(e.prov_id,e.name).toPromise();return Object.assign(Object.assign({},e),{city_id:null===(t=n[0])||void 0===t?void 0:t.city_id})})))}catch(t){console.error("Terjadi kesalahan saat mapping kabupaten:",t)}})}mappingKecamatan(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!(null===(e=this.mappedKota)||void 0===e?void 0:e.length))throw new Error("Mapped city tidak tersedia");this.mappedKecamatan=yield Promise.all(this.mappedKota.map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;yield this.delay(1e3);try{const n=yield this.masterService.getDistrict({city_codes:e.code});return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.length)?n.data.map(t=>({district_code:t.code,city_code:e.code,name:t.name.replace(/^Kec\. /,""),prov_id:e.prov_id,city_id:e.city_id})):null}catch(n){return console.warn(`Gagal mengambil data kecamatan untuk ${e.name}`,n),null}}))),this.mappedKecamatan=this.mappedKecamatan.filter(Boolean).flat(),this.mappedKecamatan=yield Promise.all(this.mappedKecamatan.map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;try{const n=yield this.apiService.kecamatan(e.city_id,e.name).toPromise();return Object.assign(Object.assign({},e),{district_id:null===(t=n[0])||void 0===t?void 0:t.dis_id})}catch(n){return console.warn(`Gagal mengambil district_id untuk ${e.name}`,n),Object.assign(Object.assign({},e),{district_id:null})}}))),this.mappedKecamatan=this.mappedKecamatan.filter(e=>null!=e.district_id)}catch(t){console.error("Terjadi kesalahan saat mapping kecamatan:",t)}})}mappingKelurahan(){var e;return(0,h.mG)(this,void 0,void 0,function*(){try{if(!(null===(e=this.mappedKecamatan)||void 0===e?void 0:e.length))throw new Error("Mapped city tidak tersedia");this.mappedKelurahan=yield Promise.all(this.mappedKecamatan.map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;try{const n=yield this.masterService.getSubDistrict({district_codes:e.district_code});return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.length)?{district_id:e.district_id,district_name:e.name,subdistricts:n.data}:null}catch(n){return console.warn(`Gagal mengambil data kecamatan untuk ${e.name}`,n),null}}))),this.mappedKelurahan=this.mappedKelurahan.filter(Boolean).flatMap(e=>e.subdistricts.map(t=>({code:t.code,parent_code:t.parent_code,name:t.name,district_id:e.district_id}))),this.mappedKelurahan=yield Promise.all(this.mappedKelurahan.map(e=>(0,h.mG)(this,void 0,void 0,function*(){var t;try{const n=yield this.apiService.keluarahan(e.district_id,e.name).toPromise();return Object.assign(Object.assign({},e),{subdistrict_id:null===(t=n[0])||void 0===t?void 0:t.subdis_id})}catch(n){return console.warn(`Gagal mengambil ID kecamatan untuk ${e.name}`,n),Object.assign(Object.assign({},e),{subdistrict_id:null})}}))),this.mappedKelurahan=this.mappedKelurahan.filter(e=>null!=e.subdistrict_id),console.log("Mapped Subdistrict:",this.mappedKelurahan)}catch(t){console.error("Terjadi kesalahan saat mapping subdistrict:",t)}})}delay(e){return(0,h.mG)(this,void 0,void 0,function*(){return new Promise((t,n)=>{try{setTimeout(t,e)}catch(i){n(new Error(`Delay failed: ${i.message}`))}})})}doMappingWilayah(){return(0,h.mG)(this,void 0,void 0,function*(){let e="",t=setInterval(function(){e+=".",console.log("Loading ."+e)},1e3);yield this.mappingProvinsi(),yield this.mappingKota(),yield this.mappingKecamatan(),yield this.mappingKelurahan();let n=this.mappedKelurahan.map(e=>`UPDATE keluarahan SET satusehat_code = '${e.code}' WHERE subdis_id = '${e.subdistrict_id}';`);console.log(n),clearInterval(t)})}}return e.\u0275fac=function(t){return new(t||e)(S.\u0275\u0275directiveInject(E),S.\u0275\u0275directiveInject(y.O),S.\u0275\u0275directiveInject(b.m),S.\u0275\u0275directiveInject(s.FF))},e.\u0275cmp=S.\u0275\u0275defineComponent({type:e,selectors:[["app-laporanskriningilp"]],decls:144,vars:115,consts:[[1,"row"],[1,"col-md-6","col-xl-4"],[1,"card","mb-3","widget-content"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"widget-heading","text-primary-custom","fw-semi-custom"],[1,"widget-subheading","fw-semi-custom"],[1,"widget-heading","text-success-custom","fw-semi-custom"],[1,"widget-heading","text-danger-custom","fw-semi-custom"],[1,"row","mb-2"],[1,"col-6"],[1,"card","pb-1"],[1,"card-header","card-header-custom","text-capitalize","justify-content-center","px-0"],[1,"card-body"],[1,"row","justify-content-between","align-items-center"],[1,"col-auto","fw-semi-custom"],[1,"col-auto"],[1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"series","chart","dataLabels","stroke","title","grid","xaxis"],[1,"card"],[1,"row","justify-content-between","align-items-center","mb-3"],[1,"col-5","fw-semi-custom","ps-2"],[1,"col-7"],[1,"col-5","px-0"],[3,"selectedItem"],[1,"col-3","pe-0","ps-2"],[3,"value"],[1,"col-4","pe-2","ps-2"],[3,"series","labels","chart","colors"],[1,"col-12"],[1,"col-5","fw-semi-custom"],[1,"col-6","px-0"],[1,"col-2","pe-0","ps-2"],[1,"col-2","pe-2","ps-2"],["class","row mb-3",4,"ngFor","ngForOf"],[1,"col-8","fw-semi-custom"],[1,"col-4"],[1,"col-3","pe-2","ps-2"],[3,"series","chart","stroke","plotOptions","dataLabels","xaxis","yaxis","fill","colors"],[1,"row","justify-content-center"],[1,"btn","btn-default","text-info",3,"click"],["modal",""],[1,"row","mb-3"],[1,"col-12","mb-2","fw-semi-custom"],[1,"widget-progress-wrapper"],[1,"progress-bar-sm","progress-bar-animated-alt","progress"],["role","progressbar","aria-valuenow","95","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"progress-sub-label","mt-1"],[1,"pe-3"],["aria-valuemin","0","aria-valuemax","100","role","progressbar",1,"progress-bar",3,"aria-valuenow"],[1,"modal-header","card-header-custom"],[1,"modal-title","text-white"],["id","closeModal","type","button","aria-label","Close",1,"close","border-0","text-white","bg-transparent",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"modal-body"],["class","card",4,"ngFor","ngForOf"],[1,"card-header","text-capitalize","justify-content-center","px-0"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(e,t){if(1&e){const e=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"div",0),S.\u0275\u0275elementStart(1,"div",1),S.\u0275\u0275elementStart(2,"div",2),S.\u0275\u0275elementStart(3,"div",3),S.\u0275\u0275elementStart(4,"div",4),S.\u0275\u0275elementStart(5,"div",5),S.\u0275\u0275text(6," Jumlah Pasien Terdaftar "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"div",6),S.\u0275\u0275text(8),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(9,"div",1),S.\u0275\u0275elementStart(10,"div",2),S.\u0275\u0275elementStart(11,"div",3),S.\u0275\u0275elementStart(12,"div",4),S.\u0275\u0275elementStart(13,"div",7),S.\u0275\u0275text(14," Jumlah Pasien Terskrining "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(15,"div",6),S.\u0275\u0275text(16),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(17,"div",1),S.\u0275\u0275elementStart(18,"div",2),S.\u0275\u0275elementStart(19,"div",3),S.\u0275\u0275elementStart(20,"div",4),S.\u0275\u0275elementStart(21,"div",8),S.\u0275\u0275text(22," Jumlah Pasien Belum Skrining "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(23,"div",6),S.\u0275\u0275text(24),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(25,"div",9),S.\u0275\u0275elementStart(26,"div",10),S.\u0275\u0275elementStart(27,"div",11),S.\u0275\u0275elementStart(28,"div",12),S.\u0275\u0275text(29," Jumlah Total Pasien Skrining "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(30,"div",13),S.\u0275\u0275elementStart(31,"div",14),S.\u0275\u0275elementStart(32,"div",15),S.\u0275\u0275text(33),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(34,"div",16),S.\u0275\u0275elementStart(35,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterYearTotalSkrining=e})("change",function(){return t.getTotalPasienSkrining()}),S.\u0275\u0275template(36,w,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(37,"apx-chart",19),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(38,"div",10),S.\u0275\u0275elementStart(39,"div",20),S.\u0275\u0275elementStart(40,"div",12),S.\u0275\u0275text(41," Jumlah Pasien Berdasarkan Klaster "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(42,"div",13),S.\u0275\u0275elementStart(43,"div",21),S.\u0275\u0275elementStart(44,"div",22),S.\u0275\u0275text(45),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(46,"div",23),S.\u0275\u0275elementStart(47,"div",0),S.\u0275\u0275elementStart(48,"div",24),S.\u0275\u0275elementStart(49,"app-master-select",25),S.\u0275\u0275listener("selectedItem",function(e){return t.filterSubDistrictKlaster=e.village_name,t.getPatientByClusterGroup()}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(50,"div",26),S.\u0275\u0275elementStart(51,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterMonthKlaster=e})("change",function(){return t.getPatientByClusterGroup()}),S.\u0275\u0275elementStart(52,"option",27),S.\u0275\u0275text(53),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(54,K,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(55,"div",28),S.\u0275\u0275elementStart(56,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterYearKlaster=e})("change",function(){return t.getPatientByClusterGroup()}),S.\u0275\u0275template(57,C,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(58,"apx-chart",29),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(59,"div",9),S.\u0275\u0275elementStart(60,"div",30),S.\u0275\u0275elementStart(61,"div",20),S.\u0275\u0275elementStart(62,"div",12),S.\u0275\u0275text(63," Jumlah Pasien Berdasarkan Kategori Skrining "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(64,"div",13),S.\u0275\u0275elementStart(65,"div",21),S.\u0275\u0275elementStart(66,"div",31),S.\u0275\u0275text(67),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(68,"div",23),S.\u0275\u0275elementStart(69,"div",0),S.\u0275\u0275elementStart(70,"div",32),S.\u0275\u0275elementStart(71,"app-master-select",25),S.\u0275\u0275listener("selectedItem",function(e){return t.filterSubDistrictKategoriSkrining=e.village_name,t.getTotalPasienByCategorySkrining()}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(72,"div",33),S.\u0275\u0275elementStart(73,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterClasterKategoriSkrining=e})("change",function(){return t.getTotalPasienByCategorySkrining()}),S.\u0275\u0275elementStart(74,"option",27),S.\u0275\u0275text(75),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(76,B,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(77,"div",33),S.\u0275\u0275elementStart(78,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterMonthKategoriSkrining=e})("change",function(){return t.getTotalPasienByCategorySkrining()}),S.\u0275\u0275elementStart(79,"option",27),S.\u0275\u0275text(80),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(81,P,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(82,"div",34),S.\u0275\u0275elementStart(83,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterYearKategoriSkrining=e})("change",function(){return t.getTotalPasienByCategorySkrining()}),S.\u0275\u0275template(84,_,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(85,A,12,6,"div",35),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(86,"div",9),S.\u0275\u0275elementStart(87,"div",30),S.\u0275\u0275elementStart(88,"div",20),S.\u0275\u0275elementStart(89,"div",12),S.\u0275\u0275text(90," Jumlah Pasien Kategori Skrining Berdasarkan Daerah "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(91,"div",13),S.\u0275\u0275elementStart(92,"div",21),S.\u0275\u0275elementStart(93,"div",36),S.\u0275\u0275text(94),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(95,"div",37),S.\u0275\u0275elementStart(96,"div",0),S.\u0275\u0275elementStart(97,"div",32),S.\u0275\u0275elementStart(98,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterClasterKategoriSkriningDaerah=e})("change",function(){return t.getPatientByVillage()}),S.\u0275\u0275elementStart(99,"option",27),S.\u0275\u0275text(100),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(101,D,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(102,"div",26),S.\u0275\u0275elementStart(103,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterMonthKategoriSkriningDaerah=e})("change",function(){return t.getPatientByVillage()}),S.\u0275\u0275elementStart(104,"option",27),S.\u0275\u0275text(105),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(106,T,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(107,"div",38),S.\u0275\u0275elementStart(108,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterYearKategoriSkriningDaerah=e})("change",function(){return t.getPatientByVillage()}),S.\u0275\u0275template(109,F,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(110,"apx-chart",39),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(111,"div",9),S.\u0275\u0275elementStart(112,"div",30),S.\u0275\u0275elementStart(113,"div",20),S.\u0275\u0275elementStart(114,"div",12),S.\u0275\u0275text(115," Jumlah Pasien By Skrining "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(116,"div",13),S.\u0275\u0275elementStart(117,"div",21),S.\u0275\u0275elementStart(118,"div",31),S.\u0275\u0275text(119),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(120,"div",23),S.\u0275\u0275elementStart(121,"div",0),S.\u0275\u0275elementStart(122,"div",32),S.\u0275\u0275elementStart(123,"app-master-select",25),S.\u0275\u0275listener("selectedItem",function(e){return t.filterSubDistrictBySkrining=e.village_name,t.getTotalPatientByScreening()}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(124,"div",33),S.\u0275\u0275elementStart(125,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterSubClasterBySkrining=e})("change",function(){return t.getTotalPatientByScreening()}),S.\u0275\u0275elementStart(126,"option",27),S.\u0275\u0275text(127),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(128,U,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(129,"div",33),S.\u0275\u0275elementStart(130,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterMonthBySkrining=e})("change",function(){return t.getTotalPatientByScreening()}),S.\u0275\u0275elementStart(131,"option",27),S.\u0275\u0275text(132),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(133,L,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(134,"div",34),S.\u0275\u0275elementStart(135,"select",17),S.\u0275\u0275listener("ngModelChange",function(e){return t.filterYearBySkrining=e})("change",function(){return t.getTotalPatientByScreening()}),S.\u0275\u0275template(136,j,2,2,"option",18),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(137,Y,12,7,"div",35),S.\u0275\u0275elementStart(138,"div",40),S.\u0275\u0275elementStart(139,"div",16),S.\u0275\u0275elementStart(140,"button",41),S.\u0275\u0275listener("click",function(){S.\u0275\u0275restoreView(e);const n=S.\u0275\u0275reference(143);return t.openModal(n)}),S.\u0275\u0275text(141," Lihat Lebih "),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementEnd(),S.\u0275\u0275template(142,J,9,2,"ng-template",null,42,S.\u0275\u0275templateRefExtractor)}2&e&&(S.\u0275\u0275advance(8),S.\u0275\u0275textInterpolate1(" ",t.jumlahPasienTerdaftar," "),S.\u0275\u0275advance(8),S.\u0275\u0275textInterpolate1(" ",t.jumlahPasienTerskrining," "),S.\u0275\u0275advance(8),S.\u0275\u0275textInterpolate1(" ",t.jumlahPasienBelumSkrining," "),S.\u0275\u0275advance(9),S.\u0275\u0275textInterpolate1(" Tahun ",t.filterYearTotalSkrining," "),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterYearTotalSkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfYears),S.\u0275\u0275advance(1),S.\u0275\u0275property("series",S.\u0275\u0275pureFunction1(79,R,S.\u0275\u0275pureFunction1(77,V,t.grapikTahunanTotalSkrining)))("chart",S.\u0275\u0275pureFunction1(82,H,S.\u0275\u0275pureFunction0(81,z)))("dataLabels",S.\u0275\u0275pureFunction0(84,z))("stroke",S.\u0275\u0275pureFunction0(85,W))("title",S.\u0275\u0275pureFunction0(86,X))("grid",S.\u0275\u0275pureFunction1(90,Z,S.\u0275\u0275pureFunction1(88,Q,S.\u0275\u0275pureFunction0(87,q))))("xaxis",S.\u0275\u0275pureFunction1(92,ee,t.listOfMonths)),S.\u0275\u0275advance(8),S.\u0275\u0275textInterpolate3(" ",t.filterSubDistrictKlaster,", ",t.filterMonthKlaster," ",t.filterYearKlaster," "),S.\u0275\u0275advance(6),S.\u0275\u0275property("ngModel",t.filterMonthKlaster),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfMonths),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterYearKlaster),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfYears),S.\u0275\u0275advance(1),S.\u0275\u0275property("series",t.listOfPercentageClaster)("labels",t.listOfClasterLabels)("chart",S.\u0275\u0275pureFunction0(94,te))("colors",S.\u0275\u0275pureFunction0(95,ne)),S.\u0275\u0275advance(9),S.\u0275\u0275textInterpolate3(" ",t.filterClasterKategoriSkrining,", ",t.filterMonthKategoriSkrining," ",t.filterYearKategoriSkrining," "),S.\u0275\u0275advance(6),S.\u0275\u0275property("ngModel",t.filterClasterKategoriSkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUAKLASTER),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUAKLASTER),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfClasters),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterMonthKategoriSkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfMonths),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterYearKategoriSkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfYears),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfCategoryScreening),S.\u0275\u0275advance(9),S.\u0275\u0275textInterpolate3(" ",t.filterClasterKategoriSkriningDaerah,", Periode ",t.filterMonthKategoriSkriningDaerah," ",t.filterYearKategoriSkriningDaerah," "),S.\u0275\u0275advance(4),S.\u0275\u0275property("ngModel",t.filterClasterKategoriSkriningDaerah),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUAKLASTER),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUAKLASTER),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfClasters),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterMonthKategoriSkriningDaerah),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfMonths),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterYearKategoriSkriningDaerah),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfYears),S.\u0275\u0275advance(1),S.\u0275\u0275property("series",S.\u0275\u0275pureFunction1(98,R,S.\u0275\u0275pureFunction1(96,ie,t.grapikBerdasarkanDaerah)))("chart",S.\u0275\u0275pureFunction0(100,re))("stroke",S.\u0275\u0275pureFunction1(102,le,S.\u0275\u0275pureFunction0(101,ae)))("plotOptions",S.\u0275\u0275pureFunction1(105,se,S.\u0275\u0275pureFunction0(104,oe)))("dataLabels",S.\u0275\u0275pureFunction0(107,z))("xaxis",S.\u0275\u0275pureFunction1(108,ee,t.listOfSubDistricts))("yaxis",S.\u0275\u0275pureFunction1(111,ce,S.\u0275\u0275pureFunction0(110,de)))("fill",S.\u0275\u0275pureFunction0(113,me))("colors",S.\u0275\u0275pureFunction0(114,ue)),S.\u0275\u0275advance(9),S.\u0275\u0275textInterpolate4(" ",t.filterSubDistrictBySkrining,", ",t.filterMonthBySkrining," ",t.filterYearBySkrining,", ",t.filterSubClasterBySkrining," "),S.\u0275\u0275advance(6),S.\u0275\u0275property("ngModel",t.filterSubClasterBySkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUASKRINING),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUASKRINING),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfSubClasterName),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterMonthBySkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("value",t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(t.SEMUABULAN),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfMonths),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngModel",t.filterYearBySkrining),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfYears),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",t.listOfPatientByScreening.slice(0,12)))},directives:[m.EJ,m.JJ,m.On,i.sg,l.x,I,m.YN,m.Kr],styles:[".card-header-custom[_ngcontent-%COMP%]{height:44px;background-color:#1d2d44;color:#fff;font-size:16px;font-weight:600;line-height:normal;letter-spacing:0px}.fw-semi-custom[_ngcontent-%COMP%]{font-weight:600}.text-primary-custom[_ngcontent-%COMP%]{color:#0d128b}.text-success-custom[_ngcontent-%COMP%]{color:#29a259}.text-danger-custom[_ngcontent-%COMP%]{color:#cd1818}.bg-pb-blue-custom[_ngcontent-%COMP%]{background-color:#0d128b}.bg-pb-orange-custom[_ngcontent-%COMP%]{background-color:#ff5959}.bg-pb-green-custom[_ngcontent-%COMP%]{background-color:#29a259}.bg-pb-brown-custom[_ngcontent-%COMP%]{background-color:#a58d5e}.bg-pb-bluesky-custom[_ngcontent-%COMP%]{background-color:#00c3f9}.bg-pb-yellow-custom[_ngcontent-%COMP%]{background-color:#f6de07}"]}),e})(),data:{title:"Laporanskriningilp"}}];let he=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=S.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(pe)],p.Bz]}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=S.\u0275\u0275defineInjector({imports:[[i.ez,m.u5]]}),e})();const Se={suppressScrollX:!0};let fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=S.\u0275\u0275defineInjector({providers:[{provide:o.op,useValue:Se}],imports:[[m.u5,i.ez,s.IJ,d.J,he,a.uH,o.Xd,c.p,r.m9,u.TU,l.X,ge]]}),e})()},92433:function(e,t,n){n.d(t,{T:function(){return l}});var i=n(49976),r=n(74788),a=n(66274);let l=(()=>{class e{constructor(){this.faStar=i.Tab,this.faPlus=i.r8p}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-page-title"]],inputs:{heading:"heading",subheading:"subheading",icon:"icon"},decls:12,vars:6,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"page-title-subheading"],[1,"page-title-actions"],["type","button",1,"btn-shadow","me-3","btn","btn-dark"],[3,"icon"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"div",1),r.\u0275\u0275elementStart(2,"div",2),r.\u0275\u0275elementStart(3,"div",3),r.\u0275\u0275element(4,"i"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div"),r.\u0275\u0275text(6),r.\u0275\u0275elementStart(7,"div",4),r.\u0275\u0275text(8),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",5),r.\u0275\u0275elementStart(10,"button",6),r.\u0275\u0275element(11,"fa-icon",7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e&&(r.\u0275\u0275advance(4),r.\u0275\u0275classMapInterpolate1("icon ",t.icon,""),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.heading," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.subheading," "),r.\u0275\u0275advance(3),r.\u0275\u0275property("icon",t.faStar))},directives:[a.BN],encapsulation:2}),e})()},39929:function(e,t,n){n.d(t,{p:function(){return c}});var i=n(12057),r=n(66274),a=n(3984),l=n(92433),o=n(74788);const s=[{path:"",component:l.T,data:{title:"PageTitle"}}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[[a.Bz.forChild(s)],a.Bz]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[[i.ez,r.uH,d]]}),e})()}}]);