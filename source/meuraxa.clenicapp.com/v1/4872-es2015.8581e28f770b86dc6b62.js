"use strict";(self.webpackChunkarchitectui_angular_pro=self.webpackChunkarchitectui_angular_pro||[]).push([[4872],{34872:function(e,t,n){n.r(t),n.d(t,{MgudangModule:function(){return j}});var a=n(12057),i=n(24751),r=n(89713),l=n(2895),d=n(46113),s=n(46833),o=n(72742),m=n(61260),u=n(68956),c=n(73624),g=n(7639),h=n(89606),p=n(31141),b=n(23202),k=n(49356),f=n(39929),S=n(3984),v=n(88259),E=n.n(v),x=n(74788),C=n(91376),M=n(17623);function y(e,t){if(1&e){const e=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"button",29),x.\u0275\u0275listener("click",function(){return x.\u0275\u0275restoreView(e),x.\u0275\u0275nextContext().simpan()}),x.\u0275\u0275text(1,"Simpan "),x.\u0275\u0275elementEnd()}if(2&e){const e=x.\u0275\u0275nextContext();x.\u0275\u0275property("disabled",!e.masterform.valid)}}function w(e,t){if(1&e){const e=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"button",30),x.\u0275\u0275listener("click",function(){return x.\u0275\u0275restoreView(e),x.\u0275\u0275nextContext().edituser()}),x.\u0275\u0275text(1,"Edit "),x.\u0275\u0275elementEnd()}if(2&e){const e=x.\u0275\u0275nextContext();x.\u0275\u0275property("disabled",!e.masterform.valid)}}function I(e,t){1&e&&(x.\u0275\u0275elementStart(0,"div",41),x.\u0275\u0275text(1,"Utama"),x.\u0275\u0275elementEnd())}function O(e,t){1&e&&(x.\u0275\u0275elementStart(0,"div",42),x.\u0275\u0275text(1,"Cadangan"),x.\u0275\u0275elementEnd())}function G(e,t){if(1&e){const e=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"tr"),x.\u0275\u0275elementStart(1,"td",31),x.\u0275\u0275text(2,"#"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(3,"td"),x.\u0275\u0275elementStart(4,"div",32),x.\u0275\u0275elementStart(5,"div",33),x.\u0275\u0275elementStart(6,"div",34),x.\u0275\u0275elementStart(7,"div",35),x.\u0275\u0275text(8),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(9,"div",36),x.\u0275\u0275text(10),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(11,I,2,0,"div",37),x.\u0275\u0275template(12,O,2,0,"div",38),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(13,"td",27),x.\u0275\u0275elementStart(14,"button",39),x.\u0275\u0275listener("click",function(){const t=x.\u0275\u0275restoreView(e).$implicit;return x.\u0275\u0275nextContext().edit(t.kdgudang,t.gudang,t.utama)}),x.\u0275\u0275text(15,"Pilih "),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(16,"button",40),x.\u0275\u0275listener("click",function(){const t=x.\u0275\u0275restoreView(e).$implicit;return x.\u0275\u0275nextContext().delete(t.kdgudang,t.gudang,t.utama)}),x.\u0275\u0275text(17,"Delete "),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;x.\u0275\u0275advance(8),x.\u0275\u0275textInterpolate(e.gudang),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(e.cabang),x.\u0275\u0275advance(1),x.\u0275\u0275property("ngIf","1"===e.utama),x.\u0275\u0275advance(1),x.\u0275\u0275property("ngIf","0"===e.utama)}}const P=[{path:"",component:(()=>{class e{constructor(e,t,n){this.toastr=e,this.authService=t,this.fb=n,this.heading="Master Gudang",this.icon="pe-7s-diamond icon-gradient bg-warm-flame",this.gudang="",this.kdgudang="",this.hakakses="",this.masterform=this.fb.group({gudang:["",i.kI.required],hakakses:["",i.kI.required]});const a=JSON.parse(localStorage.getItem("userDatacl"));this.userDetails=a.userData,this.nama=this.userDetails.nama,this.akses=this.userDetails.hakakses,this.kdklinik=this.userDetails.kdklinik,this.kdcabang=this.userDetails.kdcabang}nodeSelect(e){this.toastr.success(e.node.id,"Sukses",{timeOut:2e3})}nodeUnselect(e){this.toastr.success(e.node.id,"Un Sukses",{timeOut:2e3})}ngOnInit(){this.authService.getFiles().then(e=>{this.files1=e},e=>{console.log(e)}),this.klinik(),this.tmppuser()}klinik(){this.authService.klinikper(this.kdklinik).subscribe(e=>{this.subheading=Array.prototype.map.call(e,e=>e.nama).toString()},e=>{console.log(e)}),this.authService.cabangper(this.kdklinik).subscribe(e=>{this.cabangarr=e},e=>{console.log(e)})}simpan(){this.authService.simpangudang(this.kdgudang,this.gudang,this.kdklinik,this.kdcabang,"1",this.hakakses).then(e=>{201===e?this.toastr.error("Gudang Utama Sudah Ada Kalo Ingin Ganti silahkan Edit dulu menjadi gudang cadangan gudang utama sebelumnya","Eror"):200==e&&(this.toastr.success("Berhasil Tambah Gudang","Sukses",{timeOut:2e3}),this.kdgudang="",this.gudang="",setTimeout(()=>{this.tmppuser()},150))})}batal(){this.kdgudang="",this.gudang="",this.showedit=!1}tmppuser(){this.authService.gudang(this.kdcabang).subscribe(e=>{this.tmpusers=e},e=>{console.log(e)})}cariuserx(e){console.log(e.target.value),this.authService.carigudang(this.kdcabang,e.target.value).subscribe(e=>{this.tmpusers=e})}edit(e,t,n){this.kdgudang=e,this.gudang=t,this.hakakses=n,this.showedit=!0}edituser(){this.authService.simpangudang(this.kdgudang,this.gudang,this.kdklinik,this.kdcabang,"2",this.hakakses).then(e=>{201===e?this.toastr.error("Gudang Utama Sudah Ada Kalo Ingin Ganti silahkan Edit dulu menjadi gudang cadangan gudang utama sebelumnya","Eror"):200===e&&(this.toastr.success("Berhasil Edit Gudang","Sukses",{timeOut:2e3}),this.kdgudang="",this.gudang="",this.showedit=!1,setTimeout(()=>{this.tmppuser()},150))})}delete(e){E().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Hapus Gudang?",text:"Yakin Akan Menghapus Gudang",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(t=>{t.value?this.authService.simpangudang(e,this.gudang,this.kdklinik,this.kdcabang,"3","").then(e=>{201===e?this.toastr.error("Gudang Sudah Di Pakai Transaksi","Eror"):200===e&&(this.toastr.success("Berhasil Hapus","Sukses",{timeOut:2e3}),this.kdgudang="",this.gudang="",setTimeout(()=>{this.tmppuser()},200))}):E()})}}return e.\u0275fac=function(t){return new(t||e)(x.\u0275\u0275directiveInject(C._W),x.\u0275\u0275directiveInject(M.O),x.\u0275\u0275directiveInject(i.qu))},e.\u0275cmp=x.\u0275\u0275defineComponent({type:e,selectors:[["app-mgudang"]],decls:57,vars:7,consts:[[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"position-relative","mb-3"],["for","exampleEmail",1,"form-label"],["formControlName","gudang","placeholder","Gudang","type","text",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","hakakses","id","exampleSelect",1,"form-select",3,"ngModel","ngModelChange"],["value",""],["value","0"],["value","1"],[1,"col-md-5"],[1,"d-grid","gap-2"],["class","mb-2 me-2 btn-pill btn btn-info",3,"disabled","click",4,"ngIf"],["class","mb-2 me-2 btn-pill btn btn-focus",3,"disabled","click",4,"ngIf"],[1,"col-md-2"],[1,"mb-2","me-2","btn-pill","btn","btn-danger",3,"click"],[1,"p-2"],["for","staticEmail",1,"col-auto","col-form-label"],[1,"col-auto"],["type","text",1,"form-control","ms-2",3,"ngModel","ngModelChange","keyup"],[1,"example-container"],[1,"main-card","mb-3","card"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"mb-2","me-2","btn-pill","btn","btn-info",3,"disabled","click"],[1,"mb-2","me-2","btn-pill","btn","btn-focus",3,"disabled","click"],[1,"text-center","text-muted"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left","flex2"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],["class","ms-auto badge rounded-pill bg-danger",4,"ngIf"],["class","ms-auto badge rounded-pill bg-info",4,"ngIf"],[1,"mb-2","me-2","btn-pill","btn","btn-outline-primary",3,"click"],[1,"mb-2","me-2","btn-pill","btn","btn-outline-danger",3,"click"],[1,"ms-auto","badge","rounded-pill","bg-danger"],[1,"ms-auto","badge","rounded-pill","bg-info"]],template:function(e,t){1&e&&(x.\u0275\u0275elementStart(0,"div",0),x.\u0275\u0275elementStart(1,"div",1),x.\u0275\u0275elementStart(2,"div",2),x.\u0275\u0275elementStart(3,"div",3),x.\u0275\u0275text(4," Master Gudang "),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(5,"div",4),x.\u0275\u0275elementStart(6,"form",5),x.\u0275\u0275elementStart(7,"div",6),x.\u0275\u0275elementStart(8,"label",7),x.\u0275\u0275text(9,"Nama Gudang*"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(10,"input",8),x.\u0275\u0275listener("ngModelChange",function(e){return t.gudang=e}),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(11,"div",6),x.\u0275\u0275elementStart(12,"label",7),x.\u0275\u0275text(13,"Jenis*"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(14,"select",9),x.\u0275\u0275listener("ngModelChange",function(e){return t.hakakses=e}),x.\u0275\u0275elementStart(15,"option",10),x.\u0275\u0275text(16,"-PILIH-"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(17,"option",11),x.\u0275\u0275text(18,"Cadangan"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(19,"option",12),x.\u0275\u0275text(20,"Utama"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(21,"div",0),x.\u0275\u0275elementStart(22,"div",13),x.\u0275\u0275elementStart(23,"div",14),x.\u0275\u0275template(24,y,2,1,"button",15),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(25,"div",13),x.\u0275\u0275elementStart(26,"div",14),x.\u0275\u0275template(27,w,2,1,"button",16),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(28,"div",17),x.\u0275\u0275elementStart(29,"div",14),x.\u0275\u0275elementStart(30,"button",18),x.\u0275\u0275listener("click",function(){return t.batal()}),x.\u0275\u0275text(31,"Batal "),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(32,"div",1),x.\u0275\u0275elementStart(33,"div",2),x.\u0275\u0275elementStart(34,"div",3),x.\u0275\u0275text(35," Data Gudang "),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(36,"div",19),x.\u0275\u0275elementStart(37,"div",0),x.\u0275\u0275elementStart(38,"label",20),x.\u0275\u0275text(39,"Cari Nama:"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(40,"div",21),x.\u0275\u0275elementStart(41,"input",22),x.\u0275\u0275listener("ngModelChange",function(e){return t.cariuser=e})("keyup",function(e){return t.cariuserx(e)}),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(42,"div",4),x.\u0275\u0275elementStart(43,"div",23),x.\u0275\u0275elementStart(44,"div",24),x.\u0275\u0275elementStart(45,"div",25),x.\u0275\u0275elementStart(46,"table",26),x.\u0275\u0275elementStart(47,"thead"),x.\u0275\u0275elementStart(48,"tr"),x.\u0275\u0275elementStart(49,"th",27),x.\u0275\u0275text(50,"#"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(51,"th"),x.\u0275\u0275text(52,"Gudang"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(53,"th",27),x.\u0275\u0275text(54,"Actions"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(55,"tbody"),x.\u0275\u0275template(56,G,18,4,"tr",28),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementEnd()),2&e&&(x.\u0275\u0275advance(6),x.\u0275\u0275property("formGroup",t.masterform),x.\u0275\u0275advance(4),x.\u0275\u0275property("ngModel",t.gudang),x.\u0275\u0275advance(4),x.\u0275\u0275property("ngModel",t.hakakses),x.\u0275\u0275advance(10),x.\u0275\u0275property("ngIf",!t.showedit),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngIf",t.showedit),x.\u0275\u0275advance(14),x.\u0275\u0275property("ngModel",t.cariuser),x.\u0275\u0275advance(15),x.\u0275\u0275property("ngForOf",t.tmpusers))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,a.O5,i.On,a.sg],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.example-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),data:{title:"Mgudang"}}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=x.\u0275\u0275defineInjector({imports:[[S.Bz.forChild(P)],S.Bz]}),e})();var B=n(22396),D=n(4207);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=x.\u0275\u0275defineInjector({imports:[[a.ez,_,i.u5,i.UX,r.p9,r.p9,l.ot,d.c,s.lN,o.Fk,m.LD,u.KP,c.rP,g.QW,h.T5,p.vV,b.Hi,k.Ps,f.p,B.xc,D.hJ]]}),e})()}}]);