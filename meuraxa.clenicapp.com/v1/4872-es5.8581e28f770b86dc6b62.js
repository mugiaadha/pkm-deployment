!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkarchitectui_angular_pro=self.webpackChunkarchitectui_angular_pro||[]).push([[4872],{34872:function(t,a,i){i.r(a),i.d(a,{MgudangModule:function(){return V}});var r=i(12057),l=i(24751),d=i(89713),o=i(2895),u=i(46113),s=i(46833),m=i(72742),c=i(61260),g=i(68956),p=i(73624),h=i(7639),f=i(89606),b=i(31141),k=i(23202),v=i(49356),S=i(39929),E=i(3984),x=i(88259),y=i.n(x),C=i(74788),w=i(91376),M=i(17623);function O(e,t){if(1&e){var n=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",29),C.\u0275\u0275listener("click",function(){return C.\u0275\u0275restoreView(n),C.\u0275\u0275nextContext().simpan()}),C.\u0275\u0275text(1,"Simpan "),C.\u0275\u0275elementEnd()}if(2&e){var a=C.\u0275\u0275nextContext();C.\u0275\u0275property("disabled",!a.masterform.valid)}}function I(e,t){if(1&e){var n=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",30),C.\u0275\u0275listener("click",function(){return C.\u0275\u0275restoreView(n),C.\u0275\u0275nextContext().edituser()}),C.\u0275\u0275text(1,"Edit "),C.\u0275\u0275elementEnd()}if(2&e){var a=C.\u0275\u0275nextContext();C.\u0275\u0275property("disabled",!a.masterform.valid)}}function P(e,t){1&e&&(C.\u0275\u0275elementStart(0,"div",41),C.\u0275\u0275text(1,"Utama"),C.\u0275\u0275elementEnd())}function G(e,t){1&e&&(C.\u0275\u0275elementStart(0,"div",42),C.\u0275\u0275text(1,"Cadangan"),C.\u0275\u0275elementEnd())}function _(e,t){if(1&e){var n=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"tr"),C.\u0275\u0275elementStart(1,"td",31),C.\u0275\u0275text(2,"#"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(3,"td"),C.\u0275\u0275elementStart(4,"div",32),C.\u0275\u0275elementStart(5,"div",33),C.\u0275\u0275elementStart(6,"div",34),C.\u0275\u0275elementStart(7,"div",35),C.\u0275\u0275text(8),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(9,"div",36),C.\u0275\u0275text(10),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(11,P,2,0,"div",37),C.\u0275\u0275template(12,G,2,0,"div",38),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(13,"td",27),C.\u0275\u0275elementStart(14,"button",39),C.\u0275\u0275listener("click",function(){var e=C.\u0275\u0275restoreView(n).$implicit;return C.\u0275\u0275nextContext().edit(e.kdgudang,e.gudang,e.utama)}),C.\u0275\u0275text(15,"Pilih "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(16,"button",40),C.\u0275\u0275listener("click",function(){var e=C.\u0275\u0275restoreView(n).$implicit;return C.\u0275\u0275nextContext().delete(e.kdgudang,e.gudang,e.utama)}),C.\u0275\u0275text(17,"Delete "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()}if(2&e){var a=t.$implicit;C.\u0275\u0275advance(8),C.\u0275\u0275textInterpolate(a.gudang),C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate(a.cabang),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf","1"===a.utama),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf","0"===a.utama)}}var B,j=[{path:"",component:(B=function(){function t(n,a,i){e(this,t),this.toastr=n,this.authService=a,this.fb=i,this.heading="Master Gudang",this.icon="pe-7s-diamond icon-gradient bg-warm-flame",this.gudang="",this.kdgudang="",this.hakakses="",this.masterform=this.fb.group({gudang:["",l.kI.required],hakakses:["",l.kI.required]});var r=JSON.parse(localStorage.getItem("userDatacl"));this.userDetails=r.userData,this.nama=this.userDetails.nama,this.akses=this.userDetails.hakakses,this.kdklinik=this.userDetails.kdklinik,this.kdcabang=this.userDetails.kdcabang}return n(t,[{key:"nodeSelect",value:function(e){this.toastr.success(e.node.id,"Sukses",{timeOut:2e3})}},{key:"nodeUnselect",value:function(e){this.toastr.success(e.node.id,"Un Sukses",{timeOut:2e3})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getFiles().then(function(t){e.files1=t},function(e){console.log(e)}),this.klinik(),this.tmppuser()}},{key:"klinik",value:function(){var e=this;this.authService.klinikper(this.kdklinik).subscribe(function(t){e.subheading=Array.prototype.map.call(t,function(e){return e.nama}).toString()},function(e){console.log(e)}),this.authService.cabangper(this.kdklinik).subscribe(function(t){e.cabangarr=t},function(e){console.log(e)})}},{key:"simpan",value:function(){var e=this;this.authService.simpangudang(this.kdgudang,this.gudang,this.kdklinik,this.kdcabang,"1",this.hakakses).then(function(t){201===t?e.toastr.error("Gudang Utama Sudah Ada Kalo Ingin Ganti silahkan Edit dulu menjadi gudang cadangan gudang utama sebelumnya","Eror"):200==t&&(e.toastr.success("Berhasil Tambah Gudang","Sukses",{timeOut:2e3}),e.kdgudang="",e.gudang="",setTimeout(function(){e.tmppuser()},150))})}},{key:"batal",value:function(){this.kdgudang="",this.gudang="",this.showedit=!1}},{key:"tmppuser",value:function(){var e=this;this.authService.gudang(this.kdcabang).subscribe(function(t){e.tmpusers=t},function(e){console.log(e)})}},{key:"cariuserx",value:function(e){var t=this;console.log(e.target.value),this.authService.carigudang(this.kdcabang,e.target.value).subscribe(function(e){t.tmpusers=e})}},{key:"edit",value:function(e,t,n){this.kdgudang=e,this.gudang=t,this.hakakses=n,this.showedit=!0}},{key:"edituser",value:function(){var e=this;this.authService.simpangudang(this.kdgudang,this.gudang,this.kdklinik,this.kdcabang,"2",this.hakakses).then(function(t){201===t?e.toastr.error("Gudang Utama Sudah Ada Kalo Ingin Ganti silahkan Edit dulu menjadi gudang cadangan gudang utama sebelumnya","Eror"):200===t&&(e.toastr.success("Berhasil Edit Gudang","Sukses",{timeOut:2e3}),e.kdgudang="",e.gudang="",e.showedit=!1,setTimeout(function(){e.tmppuser()},150))})}},{key:"delete",value:function(e){var t=this;y().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Hapus Gudang?",text:"Yakin Akan Menghapus Gudang",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",reverseButtons:!0}).then(function(n){n.value?t.authService.simpangudang(e,t.gudang,t.kdklinik,t.kdcabang,"3","").then(function(e){201===e?t.toastr.error("Gudang Sudah Di Pakai Transaksi","Eror"):200===e&&(t.toastr.success("Berhasil Hapus","Sukses",{timeOut:2e3}),t.kdgudang="",t.gudang="",setTimeout(function(){t.tmppuser()},200))}):y()})}}]),t}(),B.\u0275fac=function(e){return new(e||B)(C.\u0275\u0275directiveInject(w._W),C.\u0275\u0275directiveInject(M.O),C.\u0275\u0275directiveInject(l.qu))},B.\u0275cmp=C.\u0275\u0275defineComponent({type:B,selectors:[["app-mgudang"]],decls:57,vars:7,consts:[[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"position-relative","mb-3"],["for","exampleEmail",1,"form-label"],["formControlName","gudang","placeholder","Gudang","type","text",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","hakakses","id","exampleSelect",1,"form-select",3,"ngModel","ngModelChange"],["value",""],["value","0"],["value","1"],[1,"col-md-5"],[1,"d-grid","gap-2"],["class","mb-2 me-2 btn-pill btn btn-info",3,"disabled","click",4,"ngIf"],["class","mb-2 me-2 btn-pill btn btn-focus",3,"disabled","click",4,"ngIf"],[1,"col-md-2"],[1,"mb-2","me-2","btn-pill","btn","btn-danger",3,"click"],[1,"p-2"],["for","staticEmail",1,"col-auto","col-form-label"],[1,"col-auto"],["type","text",1,"form-control","ms-2",3,"ngModel","ngModelChange","keyup"],[1,"example-container"],[1,"main-card","mb-3","card"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"mb-2","me-2","btn-pill","btn","btn-info",3,"disabled","click"],[1,"mb-2","me-2","btn-pill","btn","btn-focus",3,"disabled","click"],[1,"text-center","text-muted"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left","flex2"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],["class","ms-auto badge rounded-pill bg-danger",4,"ngIf"],["class","ms-auto badge rounded-pill bg-info",4,"ngIf"],[1,"mb-2","me-2","btn-pill","btn","btn-outline-primary",3,"click"],[1,"mb-2","me-2","btn-pill","btn","btn-outline-danger",3,"click"],[1,"ms-auto","badge","rounded-pill","bg-danger"],[1,"ms-auto","badge","rounded-pill","bg-info"]],template:function(e,t){1&e&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275elementStart(1,"div",1),C.\u0275\u0275elementStart(2,"div",2),C.\u0275\u0275elementStart(3,"div",3),C.\u0275\u0275text(4," Master Gudang "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(5,"div",4),C.\u0275\u0275elementStart(6,"form",5),C.\u0275\u0275elementStart(7,"div",6),C.\u0275\u0275elementStart(8,"label",7),C.\u0275\u0275text(9,"Nama Gudang*"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(10,"input",8),C.\u0275\u0275listener("ngModelChange",function(e){return t.gudang=e}),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(11,"div",6),C.\u0275\u0275elementStart(12,"label",7),C.\u0275\u0275text(13,"Jenis*"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(14,"select",9),C.\u0275\u0275listener("ngModelChange",function(e){return t.hakakses=e}),C.\u0275\u0275elementStart(15,"option",10),C.\u0275\u0275text(16,"-PILIH-"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(17,"option",11),C.\u0275\u0275text(18,"Cadangan"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(19,"option",12),C.\u0275\u0275text(20,"Utama"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(21,"div",0),C.\u0275\u0275elementStart(22,"div",13),C.\u0275\u0275elementStart(23,"div",14),C.\u0275\u0275template(24,O,2,1,"button",15),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(25,"div",13),C.\u0275\u0275elementStart(26,"div",14),C.\u0275\u0275template(27,I,2,1,"button",16),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(28,"div",17),C.\u0275\u0275elementStart(29,"div",14),C.\u0275\u0275elementStart(30,"button",18),C.\u0275\u0275listener("click",function(){return t.batal()}),C.\u0275\u0275text(31,"Batal "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(32,"div",1),C.\u0275\u0275elementStart(33,"div",2),C.\u0275\u0275elementStart(34,"div",3),C.\u0275\u0275text(35," Data Gudang "),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(36,"div",19),C.\u0275\u0275elementStart(37,"div",0),C.\u0275\u0275elementStart(38,"label",20),C.\u0275\u0275text(39,"Cari Nama:"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(40,"div",21),C.\u0275\u0275elementStart(41,"input",22),C.\u0275\u0275listener("ngModelChange",function(e){return t.cariuser=e})("keyup",function(e){return t.cariuserx(e)}),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(42,"div",4),C.\u0275\u0275elementStart(43,"div",23),C.\u0275\u0275elementStart(44,"div",24),C.\u0275\u0275elementStart(45,"div",25),C.\u0275\u0275elementStart(46,"table",26),C.\u0275\u0275elementStart(47,"thead"),C.\u0275\u0275elementStart(48,"tr"),C.\u0275\u0275elementStart(49,"th",27),C.\u0275\u0275text(50,"#"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(51,"th"),C.\u0275\u0275text(52,"Gudang"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(53,"th",27),C.\u0275\u0275text(54,"Actions"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(55,"tbody"),C.\u0275\u0275template(56,_,18,4,"tr",28),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()),2&e&&(C.\u0275\u0275advance(6),C.\u0275\u0275property("formGroup",t.masterform),C.\u0275\u0275advance(4),C.\u0275\u0275property("ngModel",t.gudang),C.\u0275\u0275advance(4),C.\u0275\u0275property("ngModel",t.hakakses),C.\u0275\u0275advance(10),C.\u0275\u0275property("ngIf",!t.showedit),C.\u0275\u0275advance(3),C.\u0275\u0275property("ngIf",t.showedit),C.\u0275\u0275advance(14),C.\u0275\u0275property("ngModel",t.cariuser),C.\u0275\u0275advance(15),C.\u0275\u0275property("ngForOf",t.tmpusers))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.EJ,l.YN,l.Kr,r.O5,l.On,r.sg],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.example-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin:0 5px}"]}),B),data:{title:"Mgudang"}}],D=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=C.\u0275\u0275defineInjector({imports:[[E.Bz.forChild(j)],E.Bz]}),t}(),N=i(22396),T=i(4207),V=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=C.\u0275\u0275defineInjector({imports:[[r.ez,D,l.u5,l.UX,d.p9,d.p9,o.ot,u.c,s.lN,m.Fk,c.LD,g.KP,p.rP,h.QW,f.T5,b.vV,k.Hi,v.Ps,S.p,N.xc,T.hJ]]}),t}()}}])}();