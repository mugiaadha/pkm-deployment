"use strict";(self.webpackChunkarchitectui_angular_pro=self.webpackChunkarchitectui_angular_pro||[]).push([[6922],{6922:function(e,t,n){n.r(t),n.d(t,{McoaModule:function(){return I}});var r=n(12057),i=n(24751),a=n(89713),l=n(2895),o=n(46113),s=n(46833),c=n(72742),d=n(61260),m=n(68956),u=n(73624),h=n(7639),p=n(89606),g=n(31141),k=n(23202),S=n(49356),x=n(39929),b=n(3984),f=n(88259),E=n.n(f),C=n(13707),v=n(74788),y=n(91376),M=n(17623),O=n(22396);function w(e,t){if(1&e){const e=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"tr"),v.\u0275\u0275elementStart(1,"td",15),v.\u0275\u0275text(2),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"td",16),v.\u0275\u0275text(4),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(5,"td",17),v.\u0275\u0275elementStart(6,"div",18),v.\u0275\u0275listener("click",function(){const t=v.\u0275\u0275restoreView(e).$implicit,n=v.\u0275\u0275nextContext(),r=v.\u0275\u0275reference(39);return n.opene(r,t.kdakun,t.parent,t.akun)}),v.\u0275\u0275text(7,"E"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(8,"div",19),v.\u0275\u0275listener("click",function(){const t=v.\u0275\u0275restoreView(e).$implicit;return v.\u0275\u0275nextContext().hapus(t.kdakun,t.parent,t.akun)}),v.\u0275\u0275text(9,"X"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate(e.kdakun),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",e.akun," ")}}function D(e,t){if(1&e){const e=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"div",20),v.\u0275\u0275elementStart(1,"h4",21),v.\u0275\u0275text(2,"Tambah COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"button",22),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e).dismiss("Cross click")}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(4,"div",23),v.\u0275\u0275elementStart(5,"div",24),v.\u0275\u0275elementStart(6,"div",25),v.\u0275\u0275elementStart(7,"label",26),v.\u0275\u0275text(8,"Kode Parent"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(9,"input",27),v.\u0275\u0275listener("ngModelChange",function(t){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().kdparent=t}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(10,"div",25),v.\u0275\u0275elementStart(11,"label",26),v.\u0275\u0275text(12,"Nama COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(13,"input",28),v.\u0275\u0275listener("ngModelChange",function(t){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().coa=t}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(14,"div",29),v.\u0275\u0275elementStart(15,"button",30),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e).close("Close click")}),v.\u0275\u0275text(16,"Close"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(17,"button",31),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().simpanc()}),v.\u0275\u0275text(18,"Simpan"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()}if(2&e){const e=v.\u0275\u0275nextContext();v.\u0275\u0275advance(9),v.\u0275\u0275property("ngModel",e.kdparent),v.\u0275\u0275advance(4),v.\u0275\u0275property("ngModel",e.coa)}}function V(e,t){if(1&e){const e=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"div",20),v.\u0275\u0275elementStart(1,"h4",21),v.\u0275\u0275text(2,"EDIT COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"button",22),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e).dismiss("Cross click")}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(4,"div",23),v.\u0275\u0275elementStart(5,"div",24),v.\u0275\u0275elementStart(6,"div",25),v.\u0275\u0275elementStart(7,"label",26),v.\u0275\u0275text(8,"Kode Parent"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(9,"input",27),v.\u0275\u0275listener("ngModelChange",function(t){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().kdparente=t}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(10,"div",25),v.\u0275\u0275elementStart(11,"label",26),v.\u0275\u0275text(12,"Kode Akun"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(13,"input",27),v.\u0275\u0275listener("ngModelChange",function(t){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().kdakune=t}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(14,"div",25),v.\u0275\u0275elementStart(15,"label",26),v.\u0275\u0275text(16,"Nama COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(17,"input",28),v.\u0275\u0275listener("ngModelChange",function(t){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().coae=t}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(18,"div",29),v.\u0275\u0275elementStart(19,"button",30),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e).close("Close click")}),v.\u0275\u0275text(20,"Close"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(21,"button",31),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(e),v.\u0275\u0275nextContext().simpane()}),v.\u0275\u0275text(22,"Edit"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()}if(2&e){const e=v.\u0275\u0275nextContext();v.\u0275\u0275advance(9),v.\u0275\u0275property("ngModel",e.kdparente),v.\u0275\u0275advance(4),v.\u0275\u0275property("ngModel",e.kdakune),v.\u0275\u0275advance(4),v.\u0275\u0275property("ngModel",e.coae)}}const A=function(){return{"text-align":"center","font-size":"1em"}},P=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.modalService=e,this.toastr=t,this.authService=n,this.fb=r,this.heading="Master COA",this.icon="pe-7s-diamond icon-gradient bg-warm-flame",this.kdparent="",this.coa="";const i=JSON.parse(localStorage.getItem("userDatacl"));this.userDetails=i.userData,this.nama=this.userDetails.nama,this.akses=this.userDetails.hakakses,this.kdklinik=this.userDetails.kdklinik,this.kdcabang=this.userDetails.kdcabang}ngOnInit(){this.klinik(),this.tmppuser()}klinik(){this.authService.klinikper(this.kdklinik).subscribe(e=>{this.subheading=Array.prototype.map.call(e,e=>e.nama).toString()},e=>{console.log(e)})}simpanc(){this.authService.nocoa(this.kdklinik,this.kdcabang,this.kdparent,this.coa).then(e=>{e?(this.toastr.success("Berhasil ","Sukses",{timeOut:2e3}),this.tmppuser(),this.coa=""):this.toastr.error(" Gagal","Eror")})}simpane(){this.authService.editcoa(this.kdklinik,this.kdcabang,this.kdakune,this.coae,"1").then(e=>{e?200==e&&(this.toastr.success("Berhasil ","Sukses",{timeOut:2e3}),this.lihatcoa(this.kdc),this.coa=""):this.toastr.error(" Gagal","Eror")})}hapus(e,t,n){this.authService.editcoa(this.kdklinik,this.kdcabang,e,n,"2").then(e=>{e?200==e?(this.toastr.success(" "+e,"-",{timeOut:2e3}),this.lihatcoa(this.kdc)):this.toastr.error("Data Tidak bisa di hapus karena sudah di pakai","Eror"):this.toastr.error(" Gagal","Eror")})}tmppuser(){this.authService.listcoa(this.kdcabang).subscribe(e=>{this.files1=e,console.log(this.files1)},e=>{console.log(e)})}cariuserx(e){console.log(e.target.value),this.authService.caricoa(this.kdcabang,e.target.value,"1","").subscribe(e=>{this.tmpusers=e})}cariuserxx(e){console.log(e.target.value),this.authService.caricoa(this.kdcabang,e.target.value,"2",this.kdc).subscribe(e=>{this.coadetail=e})}edit(){}edituser(){}lihatcoa(e){console.log(e),this.kdc=e,this.authService.coaper(e,this.kdcabang).subscribe(e=>{this.coadetail=e},e=>{console.log(e)})}open(e,t){E().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Tambah COA",showCancelButton:!0,confirmButtonText:"Tambah Anak",cancelButtonText:"Hapus",reverseButtons:!0}).then(n=>{n.value?(this.kdparent=t.node.key,this.modalService.open(e).result.then(e=>{console.log("a"),this.closeResult=`Closed with: ${e}`},e=>{console.log("b"),this.closeResult=`Dismissed ${this.getDismissReason(e)}`})):n.dismiss===E().DismissReason.cancel&&this.authService.deletecoa(this.kdcabang,t.node.key).then(e=>{e?(this.toastr.success("Berhasil ","Sukses",{timeOut:2e3}),this.tmppuser(),this.coa=""):this.toastr.error(" Gagal","Eror")})})}getDismissReason(e){return e===C.If.ESC?"by pressing ESC":e===C.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}opene(e,t,n,r){this.kdparente=n,this.kdakune=t,this.coae=r,this.modalService.open(e).result.then(e=>{console.log("a"),this.closeResult=`Closed with: ${e}`},e=>{console.log("b"),this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}}return e.\u0275fac=function(t){return new(t||e)(v.\u0275\u0275directiveInject(C.FF),v.\u0275\u0275directiveInject(y._W),v.\u0275\u0275directiveInject(M.O),v.\u0275\u0275directiveInject(i.qu))},e.\u0275cmp=v.\u0275\u0275defineComponent({type:e,selectors:[["app-mcoa"]],decls:40,vars:8,consts:[[1,"row"],[1,"col-md-6"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"col-auto"],["type","text",1,"form-control","ms-2",3,"ngModel","ngModelChange","keyup"],[1,"table","table-striped"],["scope","col"],["scope","col",2,"text-align","center"],["selectionMode","single",3,"value","filter","selection","selectionChange","onNodeSelect"],["type","text",1,"form-control","ms-2",3,"keyup"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["content",""],["contente",""],[1,"text-muted"],[2,"font-size","12px","color","black"],[1,"text-center"],[1,"badge","bg-pill","bg-warning",3,"click"],[1,"badge","bg-pill","bg-danger",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card-body"],[1,"position-relative","mb-3"],["for","exampleEmail",1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Coa","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"div",0),v.\u0275\u0275elementStart(1,"div",1),v.\u0275\u0275elementStart(2,"div",2),v.\u0275\u0275elementStart(3,"div",3),v.\u0275\u0275text(4," Cari COA "),v.\u0275\u0275elementStart(5,"div",4),v.\u0275\u0275elementStart(6,"input",5),v.\u0275\u0275listener("ngModelChange",function(e){return t.cariuser=e})("keyup",function(e){return t.cariuserx(e)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(7,"table",6),v.\u0275\u0275elementStart(8,"thead"),v.\u0275\u0275elementStart(9,"tr"),v.\u0275\u0275elementStart(10,"th",7),v.\u0275\u0275text(11,"KD COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(12,"th",7),v.\u0275\u0275text(13,"COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(14,"th",8),v.\u0275\u0275text(15,"Act"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(16,"tbody"),v.\u0275\u0275elementStart(17,"tr"),v.\u0275\u0275elementStart(18,"p-tree",9),v.\u0275\u0275listener("selectionChange",function(e){return t.selectedFile=e})("onNodeSelect",function(n){v.\u0275\u0275restoreView(e);const r=v.\u0275\u0275reference(37);return t.open(r,n)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(19,"div",1),v.\u0275\u0275elementStart(20,"div",2),v.\u0275\u0275elementStart(21,"div",3),v.\u0275\u0275text(22," Detail COA "),v.\u0275\u0275elementStart(23,"div",4),v.\u0275\u0275elementStart(24,"input",10),v.\u0275\u0275listener("keyup",function(e){return t.cariuserxx(e)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(25,"table",6),v.\u0275\u0275elementStart(26,"thead"),v.\u0275\u0275elementStart(27,"tr"),v.\u0275\u0275elementStart(28,"th",7),v.\u0275\u0275text(29,"KD COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(30,"th",7),v.\u0275\u0275text(31,"COA"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(32,"th",11),v.\u0275\u0275text(33,"ACT"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(34,"tbody"),v.\u0275\u0275template(35,w,10,2,"tr",12),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275template(36,D,19,2,"ng-template",null,13,v.\u0275\u0275templateRefExtractor),v.\u0275\u0275template(38,V,23,3,"ng-template",null,14,v.\u0275\u0275templateRefExtractor),v.\u0275\u0275elementEnd()}2&e&&(v.\u0275\u0275advance(6),v.\u0275\u0275property("ngModel",t.cariuser),v.\u0275\u0275advance(12),v.\u0275\u0275styleMap(v.\u0275\u0275pureFunction0(7,A)),v.\u0275\u0275property("value",t.files1)("filter",!0)("selection",t.selectedFile),v.\u0275\u0275advance(17),v.\u0275\u0275property("ngForOf",t.coadetail))},directives:[i.Fj,i.JJ,i.On,O.mp,r.sg],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:20px}.example-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px 0}.example-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{margin:0 5px}"]}),e})(),data:{title:"mcoa"}}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=v.\u0275\u0275defineInjector({imports:[[b.Bz.forChild(P)],b.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=v.\u0275\u0275defineInjector({imports:[[r.ez,_,i.u5,i.UX,a.p9,a.p9,l.ot,o.c,s.lN,c.Fk,d.LD,m.KP,O.xc,u.rP,h.QW,p.T5,g.vV,k.Hi,S.Ps,x.p]]}),e})()}}]);